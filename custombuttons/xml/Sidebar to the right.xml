<?xml version="1.0" encoding="UTF-8"?>
<custombutton xmlns:cb="http://xsms.nm.ru/custombuttons/"
              xmlns:html="http://www.w3.org/1999/xhtml">
  <html:head>
    <html:title><![CDATA[Sidebar to the right]]></html:title>
    <html:link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACm0lEQVR42o2T3UtTYRzHv2dnHnO+zGZaGfgPWARdGKX4FulKhaxmJJaJmV1kYEI4xbcI3FV0EXZVQoEVMUUoxZzmwC4MkixSfFnT5pjiEqfpznZenp6dYnbqwn7w8PDA8/0839/3/A5T1bVEvNML6BsQIAdFEJFH9mEBtqdFTHu7heCvMpvrmT/PjPHxCnnfZ8DqDD2FrssAJ/TDUu2E8dQJ6PV6FeDF827cqqsJQ5hLz7xkY243ltxUSwEaSnHPDqG2YAZZ2ccRFRWlgvwDaBtYIXWZBvAB2oJIEBkBVN8ZRWr8R+TkHAPLsuA4TgGFymazg5CQVYbuMpi7FNBwMiH8gizLuGIeRt6hNZSVnQfDqFpWlcfjoYD+ZdKQnxgWi6KMioa3KDiyidLSMzsD2l4tk6bTiWGxLEuoaBxB8VEBJSWFOwOaej2krWgvgvQThsQyTbKctlCSoYHJZNwZcPulm1jO7QfPBxRxJAsYb9hwLU/7f4DGnkXSWrgPfn9QAXBa0AyGcTadVQHujTzC0Kwdr6ueqAEtvYvEnJ9EHQQhSTIiKaC80Q5TBlFlUDPXjL4FK3ReLT5fmNgGNHe7SF2uHltbArqme/DF8QGe5BEENBFgxHiwUjQ2dvnhMbixZvgO0Sdgz3gCnJXO3yFaXeRmZhxtQUAH14pu3TusRv+ATmDpIiAsHTA6naHRmfe5IPpFYApIHT+Iwco3YFqt38j19DjaggCrs1dx4ItZhaAREevXI5qPwbpuHVMpnzCf4gC/wSN57AC+XnX8chAC1GbFUgcB5V/gtARplwfQXpWkCtHie4DOsYdgfQSTpsntDHJbJkg8/PA6XOF0F5c2cTHNhXpzLQ1WUoasc8KK0alBdBTfV8KWJFHZfwKGTWIJITCgXwAAAABJRU5ErkJggg=="/>
    <html:style type="text/css"><![CDATA[body { font-size: medium; margin: 0; }
body, code:before, help:before, initcode:before {
  font-family: "Verdana", sans-serif;
}
#wrapper { position: fixed; top: 1em; right: 1em; text-align: center; }
p { font-size: small; text-align: center; }
#button {
  background-color: rgb(85, 168, 2);
  background-image: linear-gradient(to bottom, rgb(147, 200, 94), rgb(85, 168, 2));
  background-image: -moz-linear-gradient(top, rgb(147, 200, 94), rgb(85, 168, 2));
  background-image: -o-linear-gradient(top, rgb(147, 200, 94), rgb(85, 168, 2));
  background-image: -webkit-linear-gradient(top, rgb(147, 200, 94), rgb(85, 168, 2));
  border: 1px solid rgb(58, 116, 4);
  border-radius: .5em;
  -moz-border-radius: .5em;
  -webkit-border-radius: .5em;
  padding: 0;
  margin-bottom: 1em;
  box-shadow: 1px 2px 3px rgba(0, 0, 0, .25);
  -moz-box-shadow: 1px 2px 3px rgba(0, 0, 0, .25);
  -o-box-shadow: 1px 2px 3px rgba(0, 0, 0, .25);
  -webkit-box-shadow: 1px 2px 3px rgba(0, 0, 0, .25);
}
#button a {
  color: #000;
  text-shadow: -1pt -1px 0pt rgba(255, 255, 255, .5);
  padding: 1em;
  text-decoration: none;
}
#button a, code, code:before, initcode, initcode:before, help, help:before {
  display: block;
}
#credits { position: fixed; bottom: 1em; right: 1em; font-size: small; }
custombutton { background-color: rgb(171, 171, 171); margin: 1em; }
date, image, mode, accelkey { display: none; }
name { font-weight: bold; font-size: x-large; }
code:before, help:before, initcode:before {
  font-weight: bold;
  font-size: large;
  margin: 0 0 1em;
  padding: .5em;
}
code:before { content: "CODE"; }
help:before { content: "Help"; }
initcode:before { content: "Initialization Code"; }
code, initcode, help {
  background-color: rgb(255, 255, 255);
  border: 1px inset rgb(170, 170, 170);
  font: medium monospace;
  margin: 1em 1em 2em 0;
  padding: 1em;
  text-align: left;
  width: 840px;
  white-space: pre-wrap;
  word-wrap: break-word;
}
.clear { clear: both; }
]]></html:style>
  </html:head>
  <html:body>
    <html:div id="wrapper">
      <html:div id="button">
        <html:a href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3ESidebar%20to%20the%20right%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACm0lEQVR42o2T3UtTYRzHv2dnHnO+zGZaGfgPWARdGKX4FulKhaxmJJaJmV1kYEI4xbcI3FV0EXZVQoEVMUUoxZzmwC4MkixSfFnT5pjiEqfpznZenp6dYnbqwn7w8PDA8/0839/3/A5T1bVEvNML6BsQIAdFEJFH9mEBtqdFTHu7heCvMpvrmT/PjPHxCnnfZ8DqDD2FrssAJ/TDUu2E8dQJ6PV6FeDF827cqqsJQ5hLz7xkY243ltxUSwEaSnHPDqG2YAZZ2ccRFRWlgvwDaBtYIXWZBvAB2oJIEBkBVN8ZRWr8R+TkHAPLsuA4TgGFymazg5CQVYbuMpi7FNBwMiH8gizLuGIeRt6hNZSVnQfDqFpWlcfjoYD+ZdKQnxgWi6KMioa3KDiyidLSMzsD2l4tk6bTiWGxLEuoaBxB8VEBJSWFOwOaej2krWgvgvQThsQyTbKctlCSoYHJZNwZcPulm1jO7QfPBxRxJAsYb9hwLU/7f4DGnkXSWrgPfn9QAXBa0AyGcTadVQHujTzC0Kwdr6ueqAEtvYvEnJ9EHQQhSTIiKaC80Q5TBlFlUDPXjL4FK3ReLT5fmNgGNHe7SF2uHltbArqme/DF8QGe5BEENBFgxHiwUjQ2dvnhMbixZvgO0Sdgz3gCnJXO3yFaXeRmZhxtQUAH14pu3TusRv+ATmDpIiAsHTA6naHRmfe5IPpFYApIHT+Iwco3YFqt38j19DjaggCrs1dx4ItZhaAREevXI5qPwbpuHVMpnzCf4gC/wSN57AC+XnX8chAC1GbFUgcB5V/gtARplwfQXpWkCtHie4DOsYdgfQSTpsntDHJbJkg8/PA6XOF0F5c2cTHNhXpzLQ1WUoasc8KK0alBdBTfV8KWJFHZfwKGTWIJITCgXwAAAABJRU5ErkJggg%3D%3D%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5B//document.getElementById%28%22sidebar%22%29.style.maxWidth%20%3D%20%22none%22%3B%0Athis.tooltipText%20%3D%20%22Move%20%22%20+%20this.label%3B%0A%0A//new%20Function%28this.getAttribute%28%22cb-oncommand%22%29%29.call%28this%29%3B%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5Bvar%20prefString%20%3D%20%22custombuttons.SidebarToTheRight.isOnTheRight%22%3B%0A%0Afunction%20isOnTheRight%28%29%20%7B%0A%20%20try%20%7B%0A%20%20%20%20return%20cbu.ps.getBoolPref%28prefString%29%3B%0A%20%20%7D%20catch%28ex%29%20%7B%0A%20%20%20%20return%20false%3B%0A%20%20%7D%0A%7D%0A%0Afunction%20setPref%28aBoolean%29%20%7B%0A%20%20cbu.ps.setBoolPref%28prefString%2C%20aBoolean%29%3B%0A%7D%0A%0Afunction%20%24%28id%29%20%7B%0A%20%20return%20document.getElementById%28id%29%3B%0A%7D%0A%0Avar%20sides%20%3D%20%5B%22sidebar-box%22%2C%20%22sidebar-splitter%22%5D%3B%0A%0Avar%20apc%20%3D%20%24%28%22appcontent%22%29%3B%0A%0A%0Aif%20%28apc.nextSibling.id%20%3D%3D%20sides%5B1%5D%29%20%7B%0A%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20sides.length%3B%20i++%29%20%7B%0A%20%20%20%20apc.parentNode.insertBefore%28%24%28sides%5Bi%5D%29%2C%20apc%29%3B%0A%20%20%7D%0A%20%20setPref%28false%29%3B%0A%20%20this.tooltipText%20%3D%20%22Move%20%22%20+%20this.label%3B%0A//this.setAttribute%28%22cb-stdicon%22%2C%20%22custombuttons-stdicon-1%22%29%3B%0A%20%20this.image%20%3D%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABI1BMVEVISEsQEBFcdbqCues4aP3Nzc1DY7JlpuiHh4ikpK7n5u0HOMQm8jHx8PNinGns5ucivCpDtD58ruMP3w8ALf309/3i4eodQrn+/v5GsUke+Ch46Gzr7PTe3t9RllcMzg0gnCAELrgo8ydYcrpZomEvwTJJtil+seUE5wSCtek4Z/zFxcUSVP1TqFdEXbNdp+zs8PiDg4uioqoqqStRf8g5uUAQ3RLl5eVUbbMFMsAgyyUl9iFXcbfx7O+OjZNmmW7o4+gmuSpCuC5Qg/12q+UA3gCNv5wAK/3p6fA2Z/319fb79/bh4eGoqLQAtQAiRKD4+PpOqlMU/SVCf9Fs230+XKtInuvu7u97eoPW1tZKml0rgyyH8JMH0geAreIhmyIGJrRxm7blAAAAAnRSTlOBIG9lRPoAAADGSURBVBiVY2A34bZU1GNg5AACBkZGRoYwHRER9wS7SHMgsAOKMOg7s3hqiduxRsIEmEUNZHiVDbW1WSMjGUCAWQIImIwkoMCcQRNIBihzoggEeNn4IgTUgXwvCyQBFwkvL282JAGhAF5eiAq3KIiWAF4ZXrBAiIAxWAUvlxufmpOgpKmVmbwCSMBDTJonSErJ2tpaw9Uv2pwhzkPMjU83UMVeRVU4Nh6oIs7WQYzfH2RGjCPYjGCT0NBQ/whe3nA3OXNzH1kA9J8oLkocifUAAAAASUVORK5CYII%3D%22%3B%0A%20%20this.checked%20%3D%20false%3B%0A%20%20return%3B%0A%7D%0A%0A//if%20%28%21isOnTheRight%28%29%29%20return%3B%0Afor%20%28var%20i%20%3D%200%3B%20i%20%3C%20sides.length%3B%20i++%29%20%7B%0A%20%20apc.parentNode.insertBefore%28%24%28sides%5Bi%5D%29%2C%20apc.nextSibling%29%3B%0A%7D%0A%0AsetPref%28true%29%3B%0A//this.setAttribute%28%22cb-stdicon%22%2C%20%22custombuttons-stdicon-2%22%29%3B%0Athis.image%20%3D%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABI1BMVEVISEssLjdcdbqCues4aP3Nzc1DY7JlpuiHh4ikpK7n5u0HOMQm8jHx8PNinGns5ucivCpDtD58ruMP3w8ALf309/3i4eodQrn+/v5GsUke+Ch46Gzr7PTe3t9RllcMzg0gnCAELrgo8ydYcrpZomEvwTJJtil+seUE5wSCtek4Z/zFxcUSVP1TqFdEXrRdp+zs8PiDg4uioqoqqStRf8g5uUAQ3RLl5eVUbbMFMsAgyyUl9iFXcbfx7O+OjZNmmW7o4+gmuSpCuC5Qg/12q+UA3gCNv5wAK/3p6fA2Z/319fb79/bh4eGoqLQAtQAiRKD4+PpOqlMU/SVCf9Fs230+XKtInuvu7u97eoPW1tZKml0rgyyH8JMH0geAreIhmyIGJrS/NAP1AAAAAnRSTlOBXtjYGMEAAADBSURBVBiVVczXFsFAEIDh1evqovfeji6IXiKiRQmiv/9T2A0O/ou5+M7MACBBqVFAEmroKiqAgUQJncfEZsvuPyAoOo70VD7MA5wgKDKZYgR6C3YZIJ3vSlI8f0AT4dBMfWHRYrl/qLNIEj+gnLGscyTCiX5tQMhZMJRNOxGgF3L4JBioNasu8yBuoLUQbZyX4yRFUWH3Ru8hGHxyv1pj0W50nTPQBHMTf/Qv+MfKSPTaN+Cbk6SfPkB4XPE8X9k+AS/LJ4dKnvt+AAAAAElFTkSuQmCC%22%3B%0Athis.tooltipText%20%3D%20%22Move%20Sidebar%20to%20the%20left%22%3B%0Athis.checked%20%3D%20true%3B%0A%0A%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E" rel="nofollow" title="Install Sidebar to the right">
        <![CDATA[Install this button]]>
        </html:a>
      </html:div>
      <html:a href="https://addons.mozilla.org/addon/custom-buttons/?src=custom-buttons-xml">
        <![CDATA[What's this?]]>
      </html:a>
      <html:div id="credits">
        <html:a href="http://custombuttons.sourceforge.net/forum/viewtopic.php?t=78#p197">
          <![CDATA[Custom Buttons XML]]><html:br/><![CDATA[Exporter/Importer]]>
        </html:a>
      </html:div>
    </html:div>
  </html:body>
  <date id="date" value="20120329"/>
  <name>Sidebar to the right</name>
  <image><![CDATA[data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACm0lEQVR42o2T3UtTYRzHv2dnHnO+zGZaGfgPWARdGKX4FulKhaxmJJaJmV1kYEI4xbcI3FV0EXZVQoEVMUUoxZzmwC4MkixSfFnT5pjiEqfpznZenp6dYnbqwn7w8PDA8/0839/3/A5T1bVEvNML6BsQIAdFEJFH9mEBtqdFTHu7heCvMpvrmT/PjPHxCnnfZ8DqDD2FrssAJ/TDUu2E8dQJ6PV6FeDF827cqqsJQ5hLz7xkY243ltxUSwEaSnHPDqG2YAZZ2ccRFRWlgvwDaBtYIXWZBvAB2oJIEBkBVN8ZRWr8R+TkHAPLsuA4TgGFymazg5CQVYbuMpi7FNBwMiH8gizLuGIeRt6hNZSVnQfDqFpWlcfjoYD+ZdKQnxgWi6KMioa3KDiyidLSMzsD2l4tk6bTiWGxLEuoaBxB8VEBJSWFOwOaej2krWgvgvQThsQyTbKctlCSoYHJZNwZcPulm1jO7QfPBxRxJAsYb9hwLU/7f4DGnkXSWrgPfn9QAXBa0AyGcTadVQHujTzC0Kwdr6ueqAEtvYvEnJ9EHQQhSTIiKaC80Q5TBlFlUDPXjL4FK3ReLT5fmNgGNHe7SF2uHltbArqme/DF8QGe5BEENBFgxHiwUjQ2dvnhMbixZvgO0Sdgz3gCnJXO3yFaXeRmZhxtQUAH14pu3TusRv+ATmDpIiAsHTA6naHRmfe5IPpFYApIHT+Iwco3YFqt38j19DjaggCrs1dx4ItZhaAREevXI5qPwbpuHVMpnzCf4gC/wSN57AC+XnX8chAC1GbFUgcB5V/gtARplwfQXpWkCtHie4DOsYdgfQSTpsntDHJbJkg8/PA6XOF0F5c2cTHNhXpzLQ1WUoasc8KK0alBdBTfV8KWJFHZfwKGTWIJITCgXwAAAABJRU5ErkJggg==]]></image>
  <mode>0</mode>
  <initcode><![CDATA[//document.getElementById("sidebar").style.maxWidth = "none";
this.tooltipText = "Move " + this.label;

//new Function(this.getAttribute("cb-oncommand")).call(this);]]></initcode>
  <code><![CDATA[var prefString = "custombuttons.SidebarToTheRight.isOnTheRight";

function isOnTheRight() {
  try {
    return cbu.ps.getBoolPref(prefString);
  } catch(ex) {
    return false;
  }
}

function setPref(aBoolean) {
  cbu.ps.setBoolPref(prefString, aBoolean);
}

function $(id) {
  return document.getElementById(id);
}

var sides = ["sidebar-box", "sidebar-splitter"];

var apc = $("appcontent");


if (apc.nextSibling.id == sides[1]) {
  for (var i = 0; i < sides.length; i++) {
    apc.parentNode.insertBefore($(sides[i]), apc);
  }
  setPref(false);
  this.tooltipText = "Move " + this.label;
//this.setAttribute("cb-stdicon", "custombuttons-stdicon-1");
  this.image = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABI1BMVEVISEsQEBFcdbqCues4aP3Nzc1DY7JlpuiHh4ikpK7n5u0HOMQm8jHx8PNinGns5ucivCpDtD58ruMP3w8ALf309/3i4eodQrn+/v5GsUke+Ch46Gzr7PTe3t9RllcMzg0gnCAELrgo8ydYcrpZomEvwTJJtil+seUE5wSCtek4Z/zFxcUSVP1TqFdEXbNdp+zs8PiDg4uioqoqqStRf8g5uUAQ3RLl5eVUbbMFMsAgyyUl9iFXcbfx7O+OjZNmmW7o4+gmuSpCuC5Qg/12q+UA3gCNv5wAK/3p6fA2Z/319fb79/bh4eGoqLQAtQAiRKD4+PpOqlMU/SVCf9Fs230+XKtInuvu7u97eoPW1tZKml0rgyyH8JMH0geAreIhmyIGJrRxm7blAAAAAnRSTlOBIG9lRPoAAADGSURBVBiVY2A34bZU1GNg5AACBkZGRoYwHRER9wS7SHMgsAOKMOg7s3hqiduxRsIEmEUNZHiVDbW1WSMjGUCAWQIImIwkoMCcQRNIBihzoggEeNn4IgTUgXwvCyQBFwkvL282JAGhAF5eiAq3KIiWAF4ZXrBAiIAxWAUvlxufmpOgpKmVmbwCSMBDTJonSErJ2tpaw9Uv2pwhzkPMjU83UMVeRVU4Nh6oIs7WQYzfH2RGjCPYjGCT0NBQ/whe3nA3OXNzH1kA9J8oLkocifUAAAAASUVORK5CYII=";
  this.checked = false;
  return;
}

//if (!isOnTheRight()) return;
for (var i = 0; i < sides.length; i++) {
  apc.parentNode.insertBefore($(sides[i]), apc.nextSibling);
}

setPref(true);
//this.setAttribute("cb-stdicon", "custombuttons-stdicon-2");
this.image = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABI1BMVEVISEssLjdcdbqCues4aP3Nzc1DY7JlpuiHh4ikpK7n5u0HOMQm8jHx8PNinGns5ucivCpDtD58ruMP3w8ALf309/3i4eodQrn+/v5GsUke+Ch46Gzr7PTe3t9RllcMzg0gnCAELrgo8ydYcrpZomEvwTJJtil+seUE5wSCtek4Z/zFxcUSVP1TqFdEXrRdp+zs8PiDg4uioqoqqStRf8g5uUAQ3RLl5eVUbbMFMsAgyyUl9iFXcbfx7O+OjZNmmW7o4+gmuSpCuC5Qg/12q+UA3gCNv5wAK/3p6fA2Z/319fb79/bh4eGoqLQAtQAiRKD4+PpOqlMU/SVCf9Fs230+XKtInuvu7u97eoPW1tZKml0rgyyH8JMH0geAreIhmyIGJrS/NAP1AAAAAnRSTlOBXtjYGMEAAADBSURBVBiVVczXFsFAEIDh1evqovfeji6IXiKiRQmiv/9T2A0O/ou5+M7MACBBqVFAEmroKiqAgUQJncfEZsvuPyAoOo70VD7MA5wgKDKZYgR6C3YZIJ3vSlI8f0AT4dBMfWHRYrl/qLNIEj+gnLGscyTCiX5tQMhZMJRNOxGgF3L4JBioNasu8yBuoLUQbZyX4yRFUWH3Ru8hGHxyv1pj0W50nTPQBHMTf/Qv+MfKSPTaN+Cbk6SfPkB4XPE8X9k+AS/LJ4dKnvt+AAAAAElFTkSuQmCC";
this.tooltipText = "Move Sidebar to the left";
this.checked = true;

]]></code>
  <accelkey><![CDATA[]]></accelkey>
  <help><![CDATA[]]></help>
  <attributes/>
</custombutton>