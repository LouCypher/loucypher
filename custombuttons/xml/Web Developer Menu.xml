<?xml version="1.0" encoding="UTF-8"?>
<custombutton xmlns:cb="http://xsms.nm.ru/custombuttons/"
              xmlns:html="http://www.w3.org/1999/xhtml">
  <html:head>
    <html:title><![CDATA[Web Developer Menu]]></html:title>
    <html:link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAABGdBTUEAANf7bzMYAQAAACBjSFJNAABsmwAAcm8AAPauAACFgwAAbvcAAOhBAAAxdAAAF2yhti2bAAABrUlEQVQYGU3BTUiTAQDH4T+9smkmrdrCLiIh6Fivk6BLH2a7dBBzKxYRKS4cFXQwC1cLyiAiKQ9qJJEJ5aFDHYT0okUsiOnqEEFQYrEgtC/DKGzg3v1qK9aeRxUek7qUEVLekfozDwaSnbE9ZcpatVBPB7WW0aac8M6hXz9JcjzeUqosY9mJlwhm2ghJ3SuisWUWaH/od0hBo2ml1G5PuzA5iWkZbcG1fYsZXhMYkRqKg5PBJ/ojZLdcmJxgU9p2KDKTZI5Rdt9uHp8m8lU5h+1pF5tpwfGq69MkT5lmghgvaJzSPyGbtY5tmFSxgxuMMUGMLqqblXewaGY1TYjTHPjROtvxZe9UzT79VxO+bBmsZ5BrGV+gobhijQq5zw7Rg5f9XOQDvW+6bSrk6b3LAFH6OU/Vhei3eS7NnirVX0GbOfyI+wxyj2GKotKxjZ2LH4m+81cqq/ZqjCtWTybOOCV9yglWH/0ON1OBc5IC8y/xpfqt55SNKM+39XoG4vhvyXz8lvckcIx5bCqw606Cz4SXVN5Ymdg+VzJqM7VBTjlVrkq55VXdlmf+JXfrb0i92HYaP+PsAAAAAElFTkSuQmCC"/>
    <html:style type="text/css"><![CDATA[body { font-size: medium; margin: 0; }
body, code:before, help:before, initcode:before {
  font-family: "Verdana", sans-serif;
}
#wrapper { position: fixed; top: 1em; right: 1em; text-align: center; }
p { font-size: small; text-align: center; }
#button {
  background-image: -moz-linear-gradient(center top, rgb(147, 200, 94) 30%, rgb(85, 168, 2) 55%);
  border: 1px outset rgb(58, 116, 4);
  border-radius: 1em;
  -moz-border-radius: 1em;
  padding: 0;
  text-shadow: 0pt -1px 0pt rgb(58, 116, 4);
  margin-bottom: 1em;
}
#button a {
  color: rgb(255, 255, 255);
  padding: 1em;
  text-decoration: none;
}
#button a, code, code:before, initcode, initcode:before, help, help:before {
  display: block;
}
#credits { position: fixed; bottom: 1em; right: 1em; font-size: small; }
custombutton { background-color: rgb(171, 171, 171); margin: 1em; }
date, image, mode, accelkey { display: none; }
name { font-weight: bold; font-size: x-large; }
code:before, help:before, initcode:before {
  font-weight: bold;
  font-size: large;
  margin: 0 0 1em;
  padding: .5em;
}
code:before { content: "CODE"; }
help:before { content: "Help"; }
initcode:before { content: "Initialization Code"; }
code, initcode, help {
  background-color: rgb(255, 255, 255);
  border: 1px inset rgb(170, 170, 170);
  font: medium monospace;
  margin: 1em 1em 2em 0;
  padding: 1em;
  text-align: left;
  width: 840px;
  white-space: pre-wrap;
  word-wrap: break-word;
}
.clear { clear: both; }
]]></html:style>
  </html:head>
  <html:body>
    <html:div id="wrapper">
      <html:div id="button">
        <html:a href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3EWeb%20Developer%20Menu%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAABGdBTUEAANf7bzMYAQAAACBjSFJNAABsmwAAcm8AAPauAACFgwAAbvcAAOhBAAAxdAAAF2yhti2bAAABrUlEQVQYGU3BTUiTAQDH4T+9smkmrdrCLiIh6Fivk6BLH2a7dBBzKxYRKS4cFXQwC1cLyiAiKQ9qJJEJ5aFDHYT0okUsiOnqEEFQYrEgtC/DKGzg3v1qK9aeRxUek7qUEVLekfozDwaSnbE9ZcpatVBPB7WW0aac8M6hXz9JcjzeUqosY9mJlwhm2ghJ3SuisWUWaH/od0hBo2ml1G5PuzA5iWkZbcG1fYsZXhMYkRqKg5PBJ/ojZLdcmJxgU9p2KDKTZI5Rdt9uHp8m8lU5h+1pF5tpwfGq69MkT5lmghgvaJzSPyGbtY5tmFSxgxuMMUGMLqqblXewaGY1TYjTHPjROtvxZe9UzT79VxO+bBmsZ5BrGV+gobhijQq5zw7Rg5f9XOQDvW+6bSrk6b3LAFH6OU/Vhei3eS7NnirVX0GbOfyI+wxyj2GKotKxjZ2LH4m+81cqq/ZqjCtWTybOOCV9yglWH/0ON1OBc5IC8y/xpfqt55SNKM+39XoG4vhvyXz8lvckcIx5bCqw606Cz4SXVN5Ymdg+VzJqM7VBTjlVrkq55VXdlmf+JXfrb0i92HYaP+PsAAAAAElFTkSuQmCC%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5Bconst%20Button%20%3D%20this%3B%0A%0Athis.type%20%3D%20%22menu%22%3B%0Athis.label%20%3D%20this.tooltipText%20%3D%20%22Developer%20Tools%22%3B%0A%0Athis.options%20%3D%20function%20options%28aXUL%29%20%7B%0A%20%20var%20em%20%3D%20Services.ww.getWindowEnumerator%28%29%3B%0A%20%20var%20winName%20%3D%20%22devtools-menu-options%22%3B%0A%20%20var%20index%20%3D%201%3B%0A%20%20while%20%28em.hasMoreElements%28%29%29%20%7B%0A%20%20%20%20let%20win%20%3D%20em.getNext%28%29%3B%0A%20%20%20%20if%28win.name%20%3D%3D%20winName%29%20%7B%0A%20%20%20%20%20%20win.focus%28%29%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20index++%0A%20%20%7D%0A%20%20openDialog%28%22data%3Aapplication/vnd.mozilla.xul+xml%3Bbase64%2C%22%20+%0A%20%20%20%20%20%20%20%20%20%20%20%20%20encodeURIComponent%28btoa%28aXUL%29%29%2C%20winName%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%22chrome%2C%20dialog%2C%20centerscreen%2C%20close%2C%20resizable%22%29%3B%0A%7D%0A%0Athis.onclick%20%3D%20function%20onclick%28aEvent%29%20%7B%0A%20%20if%20%28aEvent.button%20%21%3D%201%29%20return%3B%0A%20%20this.options%28this.Help%29%3B%0A%7D%0A%0Afunction%20%24%28aId%29%20%7B%0A%20%20return%20document.getElementById%28aId%29%3B%0A%7D%0A%0Afunction%20pref%28aPrefStr%29%20%7B%0A%20%20return%20cbu.ps.getBranch%28%22devtools.%22%29.getBoolPref%28aPrefStr%29%3B%0A%7D%0A%0Afunction%20toggle%28aNodeId%2C%20aPref%29%20%7B%0A%20%20%24%28aNodeId%29.hidden%20%3D%20%21pref%28aPref%29%3B%0A%20%20%24%28aNodeId%29.disabled%20%3D%20%21pref%28aPref%29%3B%0A%7D%0A%0Afunction%20onContextMenu%28aEvent%29%20%7B%0A%20%20if%20%28%22inspectDOMNode%22%20in%20window%29%20%7B%0A%20%20%20%20aEvent.preventDefault%28%29%3B%0A%20%20%20%20inspectDOMNode%28aEvent.target%29%3B%0A%20%20%20%20closeMenus%28aEvent.target%29%3B%0A%20%20%7D%0A%7D%0A%0Afunction%20onPopupShowing%28aNode%29%20%7B%0A%20%20onWebDeveloperMenuShowing%28%29%3B%0A%20%20%24%28aNode.id%20+%20%22-appmenu_pageInspect%22%29.setAttribute%28%22checked%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%28%22Tools%3AInspect%22%29.getAttribute%28%22checked%22%29%29%3B%0A%20%20toggle%28aNode.id%20+%20%22-appmenu_pageInspect%22%2C%20%22inspector.enabled%22%29%3B%0A%20%20toggle%28aNode.id%20+%20%22-appmenu_scratchpad%22%2C%20%22scratchpad.enabled%22%29%3B%0A%20%20toggle%28aNode.id%20+%20%22-appmenu_styleeditor%22%2C%20%22styleeditor.enabled%22%29%3B%0A%7D%0A%0Avar%20mpop%20%3D%20cbu.makeXML%28%3Cmenupopup%20xmlns%3D%7Bxulns%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3D%7Bthis.id%20+%20%22pop%22%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20context%3D%22toolbar-context-menu%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onclick%3D%22event.stopPropagation%28%29%3B%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oncontextmenu%3D%22onContextMenu%28event%29%3B%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onpopupshowing%3D%22onPopupShowing%28this%29%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cmenuseparator%20id%3D%7Bthis.id%20+%20%22sep%22%7D/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cmenuitem%20id%3D%7Bthis.id%20+%20%22-options%22%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Developer%20Tools%20Menu%20Options%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20accesskey%3D%22D%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oncommand%3D%22this.options%28this.XUL%29%3B%22/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/menupopup%3E%29%3B%0A%0Ampop.onPopupShowing%20%3D%20onPopupShowing.bind%28%29%3B%0Ampop.onContextMenu%20%3D%20onContextMenu.bind%28%29%3B%0A%0Athis.appendChild%28mpop%29%3B%0A%24%28this.id%20+%20%22-options%22%29.options%20%3D%20this.options%3B%0A%24%28this.id%20+%20%22-options%22%29.XUL%20%3D%20this.Help%3B%0A%0A%0Avar%20wdPop%20%3D%20%24%28%22appmenu_webDeveloper_popup%22%29%3B%0Afor%20%28var%20i%20%3D%200%3B%20i%20%3C%20wdPop.childNodes.length%3B%20i++%29%20%7B%0A%20%20let%20item%20%3D%20wdPop.childNodes%5Bi%5D.cloneNode%28true%29%3B%0A%20%20if%20%28item.id%20%21%3D%20%22%22%29%20item.id%20%3D%20mpop.id%20+%20%22-%22%20+%20item.id%3B%0A%20%20let%20cmd%20%3D%20item.getAttribute%28%22command%22%29%3B%0A%20%20if%20%28%28cmd%20%3D%3D%20%22Tools%3AInspect%22%29%20%7C%7C%20%28cmd%20%3D%3D%20%22Tools%3AScratchpad%22%29%20%7C%7C%0A%20%20%20%20%20%20%28cmd%20%3D%3D%20%22Tools%3AStyleEditor%22%29%29%20item.removeAttribute%28%22command%22%29%3B%0A%20%20switch%20%28cmd%29%20%7B%0A%20%20%20%20case%20%22Tools%3AInspect%22%3A%0A%20%20%20%20%20%20item.setAttribute%28%22oncommand%22%2C%20%22InspectorUI.toggleInspectorUI%28%29%3B%22%29%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20case%20%22Tools%3AScratchpad%22%3A%0A%20%20%20%20%20%20item.setAttribute%28%22oncommand%22%2C%20%22Scratchpad.openScratchpad%28%29%3B%22%29%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20case%20%22Tools%3AStyleEditor%22%3A%0A%20%20%20%20%20%20item.setAttribute%28%22oncommand%22%2C%20%22StyleEditor.openChrome%28%29%3B%22%29%3B%0A%20%20%7D%0A%20%20mpop.insertBefore%28item%2C%20%24%28this.id%20+%20%22sep%22%29%29%3B%0A%7D%0A%0A%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5B/*%20Web%20Developer%20Menu%20*/%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%3C%3Fxml%20version%3D%221.0%22%3F%3E%0A%3C%3Fxml-stylesheet%20href%3D%22chrome%3A//global/skin/%22%3F%3E%0A%0A%3Cprefwindow%0A%20%20xmlns%3D%22http%3A//www.mozilla.org/keymaster/gatekeeper/there.is.only.xul%22%0A%20%20id%3D%22custombuttons-devtools-menu%22%20title%3D%22Developer%20Tools%20Menu%22%0A%20%20width%3D%22200%22%20height%3D%22150%22%20onload%3D%22sizeToContent%28%29%3B%22%3E%0A%0A%20%20%3Cprefpane%20id%3D%22prefpane-menu%22%20label%3D%22Prefpane%20menu%22%20accesskey%3D%22P%22%3E%0A%0A%20%20%20%20%3Cpreferences%3E%0A%20%20%20%20%20%20%3Cpreference%20id%3D%22devtools.inspector.enabled%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3D%22devtools.inspector.enabled%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22bool%22/%3E%0A%20%20%20%20%20%20%3Cpreference%20id%3D%22devtools.scratchpad.enabled%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3D%22devtools.scratchpad.enabled%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22bool%22/%3E%0A%20%20%20%20%20%20%3Cpreference%20id%3D%22devtools.styleeditor.enabled%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3D%22devtools.styleeditor.enabled%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22bool%22/%3E%0A%20%20%20%20%3C/preferences%3E%0A%0A%20%20%20%20%3Cgroupbox%3E%0A%20%20%20%20%20%20%3Ccaption%20label%3D%22Menu%20Options%22/%3E%0A%20%20%20%20%20%20%3Ccheckbox%20id%3D%22devtools.inspector.enabled-checkbox%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Enable%20Page%20Inspector%22%20accesskey%3D%22I%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20preference%3D%22devtools.inspector.enabled%22/%3E%0A%20%20%20%20%20%20%3Ccheckbox%20id%3D%22devtools.scratchpad.enabled-checkbox%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Enable%20Scratchpad%22%20accesskey%3D%22a%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20preference%3D%22devtools.scratchpad.enabled%22/%3E%0A%20%20%20%20%20%20%3Ccheckbox%20id%3D%22devtools.styleeditor.enabled-checkbox%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Enable%20Style%20Editor%22%20accesskey%3D%22S%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20preference%3D%22devtools.styleeditor.enabled%22/%3E%0A%20%20%20%3C/groupbox%3E%0A%0A%20%20%3C/prefpane%3E%0A%0A%3C/prefwindow%3E%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E" rel="nofollow" title="Web Developer Menu">
        <![CDATA[Install this button]]>
        </html:a>
      </html:div>
      <html:a href="https://addons.mozilla.org/addon/custom-buttons/">
        <![CDATA[What's this?]]>
      </html:a>
      <html:div id="credits">
        <html:a href="http://custombuttons.sourceforge.net/forum/viewtopic.php?t=78#p197">
          <![CDATA[Custom Buttons XML]]><html:br/><![CDATA[Exporter/Importer]]>
        </html:a>
      </html:div>
    </html:div>
  </html:body>
  <date id="date" value="20120329"/>
  <name>Web Developer Menu</name>
  <image><![CDATA[data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAABGdBTUEAANf7bzMYAQAAACBjSFJNAABsmwAAcm8AAPauAACFgwAAbvcAAOhBAAAxdAAAF2yhti2bAAABrUlEQVQYGU3BTUiTAQDH4T+9smkmrdrCLiIh6Fivk6BLH2a7dBBzKxYRKS4cFXQwC1cLyiAiKQ9qJJEJ5aFDHYT0okUsiOnqEEFQYrEgtC/DKGzg3v1qK9aeRxUek7qUEVLekfozDwaSnbE9ZcpatVBPB7WW0aac8M6hXz9JcjzeUqosY9mJlwhm2ghJ3SuisWUWaH/od0hBo2ml1G5PuzA5iWkZbcG1fYsZXhMYkRqKg5PBJ/ojZLdcmJxgU9p2KDKTZI5Rdt9uHp8m8lU5h+1pF5tpwfGq69MkT5lmghgvaJzSPyGbtY5tmFSxgxuMMUGMLqqblXewaGY1TYjTHPjROtvxZe9UzT79VxO+bBmsZ5BrGV+gobhijQq5zw7Rg5f9XOQDvW+6bSrk6b3LAFH6OU/Vhei3eS7NnirVX0GbOfyI+wxyj2GKotKxjZ2LH4m+81cqq/ZqjCtWTybOOCV9yglWH/0ON1OBc5IC8y/xpfqt55SNKM+39XoG4vhvyXz8lvckcIx5bCqw606Cz4SXVN5Ymdg+VzJqM7VBTjlVrkq55VXdlmf+JXfrb0i92HYaP+PsAAAAAElFTkSuQmCC]]></image>
  <mode>0</mode>
  <initcode><![CDATA[const Button = this;

this.type = "menu";
this.label = this.tooltipText = "Developer Tools";

this.options = function options(aXUL) {
  var em = Services.ww.getWindowEnumerator();
  var winName = "devtools-menu-options";
  var index = 1;
  while (em.hasMoreElements()) {
    let win = em.getNext();
    if(win.name == winName) {
      win.focus();
      return;
    }
    index++
  }
  openDialog("data:application/vnd.mozilla.xul+xml;base64," +
             encodeURIComponent(btoa(aXUL)), winName,
             "chrome, dialog, centerscreen, close, resizable");
}

this.onclick = function onclick(aEvent) {
  if (aEvent.button != 1) return;
  this.options(this.Help);
}

function $(aId) {
  return document.getElementById(aId);
}

function pref(aPrefStr) {
  return cbu.ps.getBranch("devtools.").getBoolPref(aPrefStr);
}

function toggle(aNodeId, aPref) {
  $(aNodeId).hidden = !pref(aPref);
  $(aNodeId).disabled = !pref(aPref);
}

function onContextMenu(aEvent) {
  if ("inspectDOMNode" in window) {
    aEvent.preventDefault();
    inspectDOMNode(aEvent.target);
    closeMenus(aEvent.target);
  }
}

function onPopupShowing(aNode) {
  onWebDeveloperMenuShowing();
  $(aNode.id + "-appmenu_pageInspect").setAttribute("checked",
                    $("Tools:Inspect").getAttribute("checked"));
  toggle(aNode.id + "-appmenu_pageInspect", "inspector.enabled");
  toggle(aNode.id + "-appmenu_scratchpad", "scratchpad.enabled");
  toggle(aNode.id + "-appmenu_styleeditor", "styleeditor.enabled");
}

var mpop = cbu.makeXML(<menupopup xmlns={xulns}
                                  id={this.id + "pop"}
                                  context="toolbar-context-menu"
                                  onclick="event.stopPropagation();"
                                  oncontextmenu="onContextMenu(event);"
                                  onpopupshowing="onPopupShowing(this);">
                        <menuseparator id={this.id + "sep"}/>
                        <menuitem id={this.id + "-options"}
                                  label="Developer Tools Menu Options"
                                  accesskey="D"
                                  oncommand="this.options(this.XUL);"/>
                       </menupopup>);

mpop.onPopupShowing = onPopupShowing.bind();
mpop.onContextMenu = onContextMenu.bind();

this.appendChild(mpop);
$(this.id + "-options").options = this.options;
$(this.id + "-options").XUL = this.Help;


var wdPop = $("appmenu_webDeveloper_popup");
for (var i = 0; i < wdPop.childNodes.length; i++) {
  let item = wdPop.childNodes[i].cloneNode(true);
  if (item.id != "") item.id = mpop.id + "-" + item.id;
  let cmd = item.getAttribute("command");
  if ((cmd == "Tools:Inspect") || (cmd == "Tools:Scratchpad") ||
      (cmd == "Tools:StyleEditor")) item.removeAttribute("command");
  switch (cmd) {
    case "Tools:Inspect":
      item.setAttribute("oncommand", "InspectorUI.toggleInspectorUI();");
      break;
    case "Tools:Scratchpad":
      item.setAttribute("oncommand", "Scratchpad.openScratchpad();");
      break;
    case "Tools:StyleEditor":
      item.setAttribute("oncommand", "StyleEditor.openChrome();");
  }
  mpop.insertBefore(item, $(this.id + "sep"));
}

]]></initcode>
  <code><![CDATA[/* Web Developer Menu */]]></code>
  <accelkey><![CDATA[]]></accelkey>
  <help><![CDATA[<?xml version="1.0"?>
<?xml-stylesheet href="chrome://global/skin/"?>

<prefwindow
  xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
  id="custombuttons-devtools-menu" title="Developer Tools Menu"
  width="200" height="150" onload="sizeToContent();">

  <prefpane id="prefpane-menu" label="Prefpane menu" accesskey="P">

    <preferences>
      <preference id="devtools.inspector.enabled"
                  name="devtools.inspector.enabled"
                  type="bool"/>
      <preference id="devtools.scratchpad.enabled"
                  name="devtools.scratchpad.enabled"
                  type="bool"/>
      <preference id="devtools.styleeditor.enabled"
                  name="devtools.styleeditor.enabled"
                  type="bool"/>
    </preferences>

    <groupbox>
      <caption label="Menu Options"/>
      <checkbox id="devtools.inspector.enabled-checkbox"
                label="Enable Page Inspector" accesskey="I"
                preference="devtools.inspector.enabled"/>
      <checkbox id="devtools.scratchpad.enabled-checkbox"
                label="Enable Scratchpad" accesskey="a"
                preference="devtools.scratchpad.enabled"/>
      <checkbox id="devtools.styleeditor.enabled-checkbox"
                label="Enable Style Editor" accesskey="S"
                preference="devtools.styleeditor.enabled"/>
   </groupbox>

  </prefpane>

</prefwindow>]]></help>
  <attributes/>
</custombutton>