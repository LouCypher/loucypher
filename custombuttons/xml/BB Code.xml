<?xml version="1.0" encoding="UTF-8"?>
<custombutton xmlns:cb="http://xsms.nm.ru/custombuttons/"
              xmlns:html="http://www.w3.org/1999/xhtml">
  <html:head>
    <html:title><![CDATA[BB Code]]></html:title>
    <html:link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAALHRFWHRDcmVhdGlvbiBUaW1lAEZyaSAyOSBGZWIgMjAwOCAxNToxNDoxNCAtMDUwMB3SuKMAAAAHdElNRQfYAh0UEQ8yQ93tAAAACXBIWXMAAAsSAAALEgHS3X78AAAABGdBTUEAALGPC/xhBQAAAVpJREFUeNrFkr8vREEQx2dm9xKP6Lic+kQpdCI0cv4DvdKfIPEHyGkU/gKUNBoVHRKFgkJPIlyC4pFz7+7e7vju86N4xV6hsMm8nTefnZ3vzi7RHweHz/tWLcw1WD663nouL4pxSZsTi2nP7nZyuX7r241SoonxMGzf8+GwdeMo4cn7kxKvD+AksE3LGiRqYv1Did8P4MSQOZ0rXxVyWJc+cjPllBuqlFZEtxPrkhi3P52ESeZkBwkz8Dn3rD0vDaC1GJdfKawyZPxs18ktqhwJB8mujv+5GC8UQE7e9SIIXmLRCn1VWLBMY6g2GeOFAgALIIb1APfcQqitRF2v7IzoWYx/H0GDCi+sL2jqCJo0b5iqnugVSU8xzmmztgxFx0WTWTNVvoNfhRmntIoNOjGOHnADOxvIeQTMIC3c9Tli+xWmC8SbMW7h7CF4g/k0nA1nbJeec5T///gEwKwBN0Y5jPQAAAAASUVORK5CYII="/>
    <html:style type="text/css"><![CDATA[body { font-size: medium; margin: 0; }
body, code:before, help:before, initcode:before {
  font-family: "Verdana", sans-serif;
} 
#wrapper { position: fixed; top: 1em; right: 1em; text-align: center; }
p { font-size: small; text-align: center; }
#button {
  background-image: -moz-linear-gradient(center top, rgb(147, 200, 94) 30%, rgb(85, 168, 2) 55%);
  border: 1px outset rgb(58, 116, 4);
  border-radius: 1em;
  padding: 0;
  text-shadow: 0pt -1px 0pt rgb(58, 116, 4);
  margin-bottom: 1em;
}
#button a {
  color: rgb(255, 255, 255);
  padding: 1em;
  text-decoration: none;
}
#button a, code, code:before, initcode, initcode:before, help, help:before {
  display: block;
}
#credits { position: fixed; bottom: 1em; right: 1em; font-size: small; }
custombutton { background-color: rgb(171, 171, 171); margin: 1em; }
image, mode, accelkey { display: none; }
name { font-weight: bold; font-size: x-large; }
code:before, help:before, initcode:before {
  font-weight: bold;
  font-size: large;
  margin: 0 0 1em;
  padding: .5em;
}
code:before { content: "CODE"; }
help:before { content: "Help"; }
initcode:before { content: "Initialization Code"; }
code, initcode, help {
  background-color: rgb(255, 255, 255);
  border: 1px inset rgb(170, 170, 170);
  font: medium monospace;
  margin: 1em 1em 2em 0;
  padding: 1em;
  text-align: left;
  width: 840px;
  white-space: pre-wrap;
  word-wrap: break-word;
}
.clear { clear: both; }
]]></html:style>
  </html:head>
  <html:body>
    <html:div id="wrapper">
      <html:div id="button">
        <html:a href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3EBB%20Code%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAALHRFWHRDcmVhdGlvbiBUaW1lAEZyaSAyOSBGZWIgMjAwOCAxNToxNDoxNCAtMDUwMB3SuKMAAAAHdElNRQfYAh0UEQ8yQ93tAAAACXBIWXMAAAsSAAALEgHS3X78AAAABGdBTUEAALGPC/xhBQAAAVpJREFUeNrFkr8vREEQx2dm9xKP6Lic+kQpdCI0cv4DvdKfIPEHyGkU/gKUNBoVHRKFgkJPIlyC4pFz7+7e7vju86N4xV6hsMm8nTefnZ3vzi7RHweHz/tWLcw1WD663nouL4pxSZsTi2nP7nZyuX7r241SoonxMGzf8+GwdeMo4cn7kxKvD+AksE3LGiRqYv1Did8P4MSQOZ0rXxVyWJc+cjPllBuqlFZEtxPrkhi3P52ESeZkBwkz8Dn3rD0vDaC1GJdfKawyZPxs18ktqhwJB8mujv+5GC8UQE7e9SIIXmLRCn1VWLBMY6g2GeOFAgALIIb1APfcQqitRF2v7IzoWYx/H0GDCi+sL2jqCJo0b5iqnugVSU8xzmmztgxFx0WTWTNVvoNfhRmntIoNOjGOHnADOxvIeQTMIC3c9Tli+xWmC8SbMW7h7CF4g/k0nA1nbJeec5T///gEwKwBN0Y5jPQAAAAASUVORK5CYII%3D%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5Bif%20%28typeof%20bbcode%20%21%3D%20%22object%22%29%20%7B%0A%20%20this.tooltipText%20%3D%20%22BBCode%20extension%20is%20not%20installed%20or%20is%20disabled.%22%3B%0A%20%20this.style.opacity%20%3D%20%22.25%22%3B%0A%20%20this.disabled%20%3D%20true%3B%0A%20%20return%3B%0A%7D%0A%0Avar%20webdev%20%3D%20document.getElementById%28%27context-bbcode-main%27%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20.getElementsByTagName%28%27menupopup%27%29%5B0%5D%3B%0Avar%20popup%20%3D%20webdev.cloneNode%28true%29%3B%0Athis.appendChild%28popup%29%3B%0Athis.type%20%3D%20%27menu%27%3B%0A%0Athis.hideArrow%20%3D%20function%28aButton%29%20%7B%0A%20%20document.getAnonymousElementByAttribute%28aButton%2C%20%22class%22%2C%0A%20%20%20%20%22toolbarbutton-menu-dropmarker%22%29.style.display%20%3D%20%22none%22%3B%0A%7D%0A%0A//this.setAttribute%28%22onmouseover%22%2C%20%22this.hideArrow%28this%29%3B%22%29%3B%0A%0Avar%20thisButton%20%3D%20this%3B%0Awindow.setTimeout%28function%28%29%20%7B%0A%20%20thisButton.hideArrow%28thisButton%29%3B%0A%7D%29%3B%0A%0A%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5B/*CODE*/%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E" title="BB Code">
        <![CDATA[Install this button]]>
        </html:a>
      </html:div>
      <html:a href="https://addons.mozilla.org/addon/custom-buttons/">
        <![CDATA[What's this?]]>
      </html:a>
      <html:div id="credits">
        <html:a href="http://custombuttons.mozdev.org/drupal/node/484">
          <![CDATA[Custom Buttons XML]]><html:br/><![CDATA[Exporter/Importer]]>
        </html:a>
      </html:div>
    </html:div>
  </html:body>

  <name>BB Code</name>
  <image><![CDATA[data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAALHRFWHRDcmVhdGlvbiBUaW1lAEZyaSAyOSBGZWIgMjAwOCAxNToxNDoxNCAtMDUwMB3SuKMAAAAHdElNRQfYAh0UEQ8yQ93tAAAACXBIWXMAAAsSAAALEgHS3X78AAAABGdBTUEAALGPC/xhBQAAAVpJREFUeNrFkr8vREEQx2dm9xKP6Lic+kQpdCI0cv4DvdKfIPEHyGkU/gKUNBoVHRKFgkJPIlyC4pFz7+7e7vju86N4xV6hsMm8nTefnZ3vzi7RHweHz/tWLcw1WD663nouL4pxSZsTi2nP7nZyuX7r241SoonxMGzf8+GwdeMo4cn7kxKvD+AksE3LGiRqYv1Did8P4MSQOZ0rXxVyWJc+cjPllBuqlFZEtxPrkhi3P52ESeZkBwkz8Dn3rD0vDaC1GJdfKawyZPxs18ktqhwJB8mujv+5GC8UQE7e9SIIXmLRCn1VWLBMY6g2GeOFAgALIIb1APfcQqitRF2v7IzoWYx/H0GDCi+sL2jqCJo0b5iqnugVSU8xzmmztgxFx0WTWTNVvoNfhRmntIoNOjGOHnADOxvIeQTMIC3c9Tli+xWmC8SbMW7h7CF4g/k0nA1nbJeec5T///gEwKwBN0Y5jPQAAAAASUVORK5CYII=]]></image>
  <mode>0</mode>
  <initcode><![CDATA[if (typeof bbcode != "object") {
  this.tooltipText = "BBCode extension is not installed or is disabled.";
  this.style.opacity = ".25";
  this.disabled = true;
  return;
}

var webdev = document.getElementById('context-bbcode-main')
             .getElementsByTagName('menupopup')[0];
var popup = webdev.cloneNode(true);
this.appendChild(popup);
this.type = 'menu';

this.hideArrow = function(aButton) {
  document.getAnonymousElementByAttribute(aButton, "class",
    "toolbarbutton-menu-dropmarker").style.display = "none";
}

//this.setAttribute("onmouseover", "this.hideArrow(this);");

var thisButton = this;
window.setTimeout(function() {
  thisButton.hideArrow(thisButton);
});

]]></initcode>
  <code><![CDATA[/*CODE*/]]></code>
  <accelkey><![CDATA[]]></accelkey>
  <help><![CDATA[]]></help>
  <attributes/>
</custombutton>