<?xml version="1.0" encoding="UTF-8"?>
<custombutton xmlns:cb="http://xsms.nm.ru/custombuttons/"
              xmlns:html="http://www.w3.org/1999/xhtml">
  <html:head>
    <html:title><![CDATA[Linkification]]></html:title>
    <html:link rel="shortcut icon" href=""/>
    <html:style type="text/css"><![CDATA[body { font-size: medium; margin: 0; }
body, code:before, help:before, initcode:before {
  font-family: "Verdana", sans-serif;
}
#wrapper { position: fixed; top: 1em; right: 1em; text-align: center; }
p { font-size: small; text-align: center; }
#button {
  background-image: -moz-linear-gradient(center top, rgb(147, 200, 94) 30%, rgb(85, 168, 2) 55%);
  border: 1px outset rgb(58, 116, 4);
  border-radius: 1em;
  -moz-border-radius: 1em;
  padding: 0;
  text-shadow: 0pt -1px 0pt rgb(58, 116, 4);
  margin-bottom: 1em;
}
#button a {
  color: rgb(255, 255, 255);
  padding: 1em;
  text-decoration: none;
}
#button a, code, code:before, initcode, initcode:before, help, help:before {
  display: block;
}
#credits { position: fixed; bottom: 1em; right: 1em; font-size: small; }
custombutton { background-color: rgb(171, 171, 171); margin: 1em; }
image, mode, accelkey { display: none; }
name { font-weight: bold; font-size: x-large; }
code:before, help:before, initcode:before {
  font-weight: bold;
  font-size: large;
  margin: 0 0 1em;
  padding: .5em;
}
code:before { content: "CODE"; }
help:before { content: "Help"; }
initcode:before { content: "Initialization Code"; }
code, initcode, help {
  background-color: rgb(255, 255, 255);
  border: 1px inset rgb(170, 170, 170);
  font: medium monospace;
  margin: 1em 1em 2em 0;
  padding: 1em;
  text-align: left;
  width: 840px;
  white-space: pre-wrap;
  word-wrap: break-word;
}
.clear { clear: both; }
]]></html:style>
  </html:head>
  <html:body>
    <html:div id="wrapper">
      <html:div id="button">
        <html:a href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3ELinkification%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bcustombuttons-stdicon-1%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5B/*%0A%20%20%20%20Linkification%0A%20%20%20%20Original%20script%20by%20Misha%20Splurov%0A%20%20%20%20http%3A//userscripts.org/scripts/show/67744%0A*/%0A%0A//%20%28c%29%20http%3A//data.iana.org/TLD/tlds-alpha-by-domain.txt%0Avar%20domains%20%3D%20%5B%27ac%27%2C%20%27ad%27%2C%20%27ae%27%2C%20%27aero%27%2C%20%27af%27%2C%20%27ag%27%2C%20%27ai%27%2C%20%27al%27%2C%20%27am%27%2C%20%27an%27%2C%20%27ao%27%2C%20%27aq%27%2C%20%27ar%27%2C%20%27arpa%27%2C%20%27as%27%2C%20%27asia%27%2C%20%27at%27%2C%20%27au%27%2C%20%27aw%27%2C%20%27ax%27%2C%20%27az%27%2C%20%27ba%27%2C%20%27bb%27%2C%20%27bd%27%2C%20%27be%27%2C%20%27bf%27%2C%20%27bg%27%2C%20%27bh%27%2C%20%27bi%27%2C%20%27biz%27%2C%20%27bj%27%2C%20%27bm%27%2C%20%27bn%27%2C%20%27bo%27%2C%20%27br%27%2C%20%27bs%27%2C%20%27bt%27%2C%20%27bv%27%2C%20%27bw%27%2C%20%27by%27%2C%20%27bz%27%2C%20%27ca%27%2C%20%27cat%27%2C%20%27cc%27%2C%20%27cd%27%2C%20%27cf%27%2C%20%27cg%27%2C%20%27ch%27%2C%20%27ci%27%2C%20%27ck%27%2C%20%27cl%27%2C%20%27cm%27%2C%20%27cn%27%2C%20%27co%27%2C%20%27com%27%2C%20%27coop%27%2C%20%27cr%27%2C%20%27cu%27%2C%20%27cv%27%2C%20%27cx%27%2C%20%27cy%27%2C%20%27cz%27%2C%20%27de%27%2C%20%27dj%27%2C%20%27dk%27%2C%20%27dm%27%2C%20%27do%27%2C%20%27dz%27%2C%20%27ec%27%2C%20%27edu%27%2C%20%27ee%27%2C%20%27eg%27%2C%20%27er%27%2C%20%27es%27%2C%20%27et%27%2C%20%27eu%27%2C%20%27fi%27%2C%20%27fj%27%2C%20%27fk%27%2C%20%27fm%27%2C%20%27fo%27%2C%20%27fr%27%2C%20%27ga%27%2C%20%27gb%27%2C%20%27gd%27%2C%20%27ge%27%2C%20%27gf%27%2C%20%27gg%27%2C%20%27gh%27%2C%20%27gi%27%2C%20%27gl%27%2C%20%27gm%27%2C%20%27gn%27%2C%20%27gov%27%2C%20%27gp%27%2C%20%27gq%27%2C%20%27gr%27%2C%20%27gs%27%2C%20%27gt%27%2C%20%27gu%27%2C%20%27gw%27%2C%20%27gy%27%2C%20%27hk%27%2C%20%27hm%27%2C%20%27hn%27%2C%20%27hr%27%2C%20%27ht%27%2C%20%27hu%27%2C%20%27id%27%2C%20%27ie%27%2C%20%27il%27%2C%20%27im%27%2C%20%27in%27%2C%20%27info%27%2C%20%27int%27%2C%20%27io%27%2C%20%27iq%27%2C%20%27ir%27%2C%20%27is%27%2C%20%27it%27%2C%20%27je%27%2C%20%27jm%27%2C%20%27jo%27%2C%20%27jobs%27%2C%20%27jp%27%2C%20%27ke%27%2C%20%27kg%27%2C%20%27kh%27%2C%20%27ki%27%2C%20%27km%27%2C%20%27kn%27%2C%20%27kp%27%2C%20%27kr%27%2C%20%27kw%27%2C%20%27ky%27%2C%20%27kz%27%2C%20%27la%27%2C%20%27lb%27%2C%20%27lc%27%2C%20%27li%27%2C%20%27lk%27%2C%20%27lr%27%2C%20%27ls%27%2C%20%27lt%27%2C%20%27lu%27%2C%20%27lv%27%2C%20%27ly%27%2C%20%27ma%27%2C%20%27mc%27%2C%20%27md%27%2C%20%27me%27%2C%20%27mg%27%2C%20%27mh%27%2C%20%27mil%27%2C%20%27mk%27%2C%20%27ml%27%2C%20%27mm%27%2C%20%27mn%27%2C%20%27mo%27%2C%20%27mobi%27%2C%20%27mp%27%2C%20%27mq%27%2C%20%27mr%27%2C%20%27ms%27%2C%20%27mt%27%2C%20%27mu%27%2C%20%27museum%27%2C%20%27mv%27%2C%20%27mw%27%2C%20%27mx%27%2C%20%27my%27%2C%20%27mz%27%2C%20%27na%27%2C%20%27name%27%2C%20%27nc%27%2C%20%27ne%27%2C%20%27net%27%2C%20%27nf%27%2C%20%27ng%27%2C%20%27ni%27%2C%20%27nl%27%2C%20%27no%27%2C%20%27np%27%2C%20%27nr%27%2C%20%27nu%27%2C%20%27nz%27%2C%20%27om%27%2C%20%27org%27%2C%20%27pa%27%2C%20%27pe%27%2C%20%27pf%27%2C%20%27pg%27%2C%20%27ph%27%2C%20%27pk%27%2C%20%27pl%27%2C%20%27pm%27%2C%20%27pn%27%2C%20%27pr%27%2C%20%27pro%27%2C%20%27ps%27%2C%20%27pt%27%2C%20%27pw%27%2C%20%27py%27%2C%20%27qa%27%2C%20%27re%27%2C%20%27ro%27%2C%20%27rs%27%2C%20%27ru%27%2C%20%27rw%27%2C%20%27sa%27%2C%20%27sb%27%2C%20%27sc%27%2C%20%27sd%27%2C%20%27se%27%2C%20%27sg%27%2C%20%27sh%27%2C%20%27si%27%2C%20%27sj%27%2C%20%27sk%27%2C%20%27sl%27%2C%20%27sm%27%2C%20%27sn%27%2C%20%27so%27%2C%20%27sr%27%2C%20%27st%27%2C%20%27su%27%2C%20%27sv%27%2C%20%27sy%27%2C%20%27sz%27%2C%20%27tc%27%2C%20%27td%27%2C%20%27tel%27%2C%20%27tf%27%2C%20%27tg%27%2C%20%27th%27%2C%20%27tj%27%2C%20%27tk%27%2C%20%27tl%27%2C%20%27tm%27%2C%20%27tn%27%2C%20%27to%27%2C%20%27tp%27%2C%20%27tr%27%2C%20%27travel%27%2C%20%27tt%27%2C%20%27tv%27%2C%20%27tw%27%2C%20%27tz%27%2C%20%27ua%27%2C%20%27ug%27%2C%20%27uk%27%2C%20%27us%27%2C%20%27uy%27%2C%20%27uz%27%2C%20%27va%27%2C%20%27vc%27%2C%20%27ve%27%2C%20%27vg%27%2C%20%27vi%27%2C%20%27vn%27%2C%20%27vu%27%2C%20%27wf%27%2C%20%27ws%27%2C%20%27ye%27%2C%20%27yt%27%2C%20%27yu%27%2C%20%27za%27%2C%20%27zm%27%2C%20%27zw%27%5D%3B%0A%0A//%20%28c%29%20http%3A//yellow5.us/firefox/linkification/%0Avar%20tagsForSkip%20%3D%20%5B%27a%27%2C%20%27applet%27%2C%20%27area%27%2C%20%27embed%27%2C%20%27frame%27%2C%20%27frameset%27%2C%20%27head%27%2C%20%27iframe%27%2C%20%27img%27%2C%20%27map%27%2C%20%27meta%27%2C%20%27noscript%27%2C%20%27object%27%2C%20%27option%27%2C%20%27param%27%2C%20%27script%27%2C%20%27select%27%2C%20%27style%27%2C%20%27textarea%27%2C%20%27title%27%5D%3B%0A%0Avar%20inArray%20%3D%20function%28value%2C%20items%29%20%7B%0A%20%20for%20%28var%20i%20%3D%200%3B%20items%5Bi%5D%20%26%26%20value%20%21%3D%20items%5Bi%5D%3B%20i++%29%3B%0A%20%20return%20value%20%3D%3D%20items%5Bi%5D%3B%0A%7D%0A%0Avar%20urlsRegExp%20%3D%20/%28%5E%7C%5B%5Cs%28%29%5C%5B%5C%5D_%3A%7E+@*%22%27%3E%5D%29%28%28%3F%3Ahttps%3F%7Cftp%7Circ%29%3A%5C/%5C/%29%3F%28%5B-a-z%5Cd%3B%3A%26%3D+%24%2C%25_.%21%7E*%27%28%29%5D+@%29%3F%28%28%3F%3A%28%3F%3A25%5B0-5%5D%7C2%5B0-4%5D%5Cd%7C%5B01%5D%3F%5Cd%5Cd%3F%29%5C.%29%7B3%7D%28%3F%3A25%5B0-5%5D%7C2%5B0-4%5D%5Cd%7C%5B01%5D%3F%5Cd%5Cd%3F%29%7C%28%3F%3A%28www%7Circ%7Cftp%29%5C.%29%3F%28%3F%3A%28%3F%3A%5Ba-z%5Cd%5D%7C%5Ba-z%5Cd%5D%5Ba-z%5Cd-%5D*%5Ba-z%5Cd%5D%29%5C.%29+%28%5Ba-z%5D%7B2%2C6%7D%29%29%28%3A%5Cd+%29%3F%28%5C/%28%3F%3A%5B-%5Cw.%21%7E*%27%28%29%25%3A@%26%3D+%24%2C%3B%5C/%5D*%5B%5Cw%7E*%25@%26%3D+%24%5C/%5D%29%3F%28%3F%3A%5C%3F%28%3F%3A%5B-%5Cw%3B%5C/%3F%3A@%26%3D+%24%2C.%21%7E*%27%28%29%25%5C%5B%5C%5D%7C%5D*%5B%5Cw%5C/@%26%3D+%24%7E*%25%5D%29%3F%29%3F%28%3F%3A%23%28%3F%3A%5B-%5Cw%3B%5C/%3F%3A@%26%3D+%24%2C.%21%7E*%27%28%29%25%5D*%5B%5Cw%5C/@%26%3D+%24%7E*%25%5D%29%3F%29%3F%7C%5Cb%29/i%0A%0Avar%20linksCounter%20%3D%200%3B%0A%0Avar%20current%20%3D%20content.document.body%3B%0Awhile%20%28current%29%20%7B%0A%20%20if%20%28current.nodeName%20%3D%3D%20%27%23text%27%20%26%26%20%28match%20%3D%20current.nodeValue.match%28urlsRegExp%29%29%20%26%26%20inArray%28match%5B6%5D%2C%20domains%29%29%20%7B%0A%20%20%20%20var%20url%3B%0A%20%20%20%20if%20%28match%5B3%5D%20%26%26%20%21%20match%5B2%5D%20%26%26%20%21%20match%5B5%5D%20%26%26%20%21%20match%5B8%5D%20%26%26%20%28match%5B3%5D.indexOf%28%27%3A%27%29%20%3D%3D%20-1%20%7C%7C%20match%5B3%5D.indexOf%28%27mailto%3A%27%29%20%3D%3D%200%29%29%20%7B%0A%20%20%20%20%20%20url%20%3D%20%28match%5B3%5D.indexOf%28%27mailto%3A%27%29%20%3D%3D%20-1%20%3F%20%27mailto%3A%27%20%3A%20%27%27%29%0A%20%20%20%20%20%20%20%20%20%20+%20match%5B3%5D%0A%20%20%20%20%20%20%20%20%20%20+%20match%5B4%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20url%20%3D%20%28match%5B2%5D%20%3F%20match%5B2%5D%20%3A%20%28%21%20match%5B5%5D%20%7C%7C%20match%5B5%5D%20%3D%3D%20%27www%27%20%3F%20%27http%27%20%3A%20match%5B5%5D%29%20+%20%27%3A//%27%29%0A%20%20%20%20%20%20%20%20%20%20+%20%28match%5B3%5D%20%3F%20match%5B3%5D%20%3A%20%27%27%29%0A%20%20%20%20%20%20%20%20%20%20+%20match%5B4%5D%0A%20%20%20%20%20%20%20%20%20%20+%20%28match%5B7%5D%20%3F%20match%5B7%5D%20%3A%20%27%27%29%0A%20%20%20%20%20%20%20%20%20%20+%20%28match%5B8%5D%20%3F%20match%5B8%5D%20%3A%20%27%27%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28url%29%20%7B%0A%20%20%20%20%20%20var%20range%20%3D%20content.document.createRange%28%29%3B%0A%20%20%20%20%20%20range.setStart%28current%2C%20match.index%20+%20match%5B1%5D.length%29%3B%0A%20%20%20%20%20%20range.setEnd%28current%2C%20match.index%20+%20match%5B0%5D.length%29%3B%0A%20%20%20%20%20%20var%20a%20%3D%20content.document.createElement%28%27a%27%29%3B%0A%20%20%20%20%20%20a.setAttribute%28%27href%27%2C%20url%29%3B%0A%20%20%20%20%20%20a.setAttribute%28%27class%27%2C%20%27linkified%27%29%3B%0A%20%20%20%20%20%20a.appendChild%28range.extractContents%28%29%29%3B%0A%20%20%20%20%20%20range.insertNode%28a%29%3B%0A%20%20%20%20%20%20range.detach%28%29%3B%0A%20%20%20%20%20%20linksCounter++%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20if%20%28current.tagName%20%26%26%20%21inArray%28current.tagName.toLowerCase%28%29%2C%20tagsForSkip%29%20%26%26%20current.firstChild%29%20%7B%0A%20%20%20%20current%20%3D%20current.firstChild%3B%0A%20%20%7D%0A%20%20else%20if%20%28current.nextSibling%29%20%7B%0A%20%20%20%20current%20%3D%20current.nextSibling%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20do%20%7B%0A%20%20%20%20%20%20current%20%3D%20current.parentNode%3B%0A%20%20%20%20%7D%20while%20%28%21current.nextSibling%20%26%26%20current.parentNode%29%3B%0A%20%20%20%20current%20%3D%20current.nextSibling%3B%0A%20%20%7D%0A%7D%0A%0A/*%0Aif%20%28linksCounter%20%3E%200%29%20%7B%0A%20%20var%20style%20%3D%20content.document.createElement%28%27style%27%29%3B%0A%20%20style.type%20%3D%20%27text/css%27%3B%0A%20%20style.appendChild%28content.document.createTextNode%28%27a.linkified%3Abefore%20%7Bcontent%3A%20%22%7E%22%3B%20color%3A%20%23e00%3B%7D%27%29%29%3B%0A%20%20content.document.getElementsByTagName%28%27head%27%29%5B0%5D.appendChild%28style%29%3B%0A%7D%0A*/%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E" rel="nofollow" title="Linkification">
        <![CDATA[Install this button]]>
        </html:a>
      </html:div>
      <html:a href="https://addons.mozilla.org/addon/custom-buttons/">
        <![CDATA[What's this?]]>
      </html:a>
      <html:div id="credits">
        <html:a href="http://custombuttons.sourceforge.net/forum/viewtopic.php?t=78#p197">
          <![CDATA[Custom Buttons XML]]><html:br/><![CDATA[Exporter/Importer]]>
        </html:a>
      </html:div>
    </html:div>
  </html:body>

  <name>Linkification</name>
  <image><![CDATA[custombuttons-stdicon-1]]></image>
  <mode>0</mode>
  <initcode><![CDATA[]]></initcode>
  <code><![CDATA[/*
    Linkification
    Original script by Misha Splurov
    http://userscripts.org/scripts/show/67744
*/

// (c) http://data.iana.org/TLD/tlds-alpha-by-domain.txt
var domains = ['ac', 'ad', 'ae', 'aero', 'af', 'ag', 'ai', 'al', 'am', 'an', 'ao', 'aq', 'ar', 'arpa', 'as', 'asia', 'at', 'au', 'aw', 'ax', 'az', 'ba', 'bb', 'bd', 'be', 'bf', 'bg', 'bh', 'bi', 'biz', 'bj', 'bm', 'bn', 'bo', 'br', 'bs', 'bt', 'bv', 'bw', 'by', 'bz', 'ca', 'cat', 'cc', 'cd', 'cf', 'cg', 'ch', 'ci', 'ck', 'cl', 'cm', 'cn', 'co', 'com', 'coop', 'cr', 'cu', 'cv', 'cx', 'cy', 'cz', 'de', 'dj', 'dk', 'dm', 'do', 'dz', 'ec', 'edu', 'ee', 'eg', 'er', 'es', 'et', 'eu', 'fi', 'fj', 'fk', 'fm', 'fo', 'fr', 'ga', 'gb', 'gd', 'ge', 'gf', 'gg', 'gh', 'gi', 'gl', 'gm', 'gn', 'gov', 'gp', 'gq', 'gr', 'gs', 'gt', 'gu', 'gw', 'gy', 'hk', 'hm', 'hn', 'hr', 'ht', 'hu', 'id', 'ie', 'il', 'im', 'in', 'info', 'int', 'io', 'iq', 'ir', 'is', 'it', 'je', 'jm', 'jo', 'jobs', 'jp', 'ke', 'kg', 'kh', 'ki', 'km', 'kn', 'kp', 'kr', 'kw', 'ky', 'kz', 'la', 'lb', 'lc', 'li', 'lk', 'lr', 'ls', 'lt', 'lu', 'lv', 'ly', 'ma', 'mc', 'md', 'me', 'mg', 'mh', 'mil', 'mk', 'ml', 'mm', 'mn', 'mo', 'mobi', 'mp', 'mq', 'mr', 'ms', 'mt', 'mu', 'museum', 'mv', 'mw', 'mx', 'my', 'mz', 'na', 'name', 'nc', 'ne', 'net', 'nf', 'ng', 'ni', 'nl', 'no', 'np', 'nr', 'nu', 'nz', 'om', 'org', 'pa', 'pe', 'pf', 'pg', 'ph', 'pk', 'pl', 'pm', 'pn', 'pr', 'pro', 'ps', 'pt', 'pw', 'py', 'qa', 're', 'ro', 'rs', 'ru', 'rw', 'sa', 'sb', 'sc', 'sd', 'se', 'sg', 'sh', 'si', 'sj', 'sk', 'sl', 'sm', 'sn', 'so', 'sr', 'st', 'su', 'sv', 'sy', 'sz', 'tc', 'td', 'tel', 'tf', 'tg', 'th', 'tj', 'tk', 'tl', 'tm', 'tn', 'to', 'tp', 'tr', 'travel', 'tt', 'tv', 'tw', 'tz', 'ua', 'ug', 'uk', 'us', 'uy', 'uz', 'va', 'vc', 've', 'vg', 'vi', 'vn', 'vu', 'wf', 'ws', 'ye', 'yt', 'yu', 'za', 'zm', 'zw'];

// (c) http://yellow5.us/firefox/linkification/
var tagsForSkip = ['a', 'applet', 'area', 'embed', 'frame', 'frameset', 'head', 'iframe', 'img', 'map', 'meta', 'noscript', 'object', 'option', 'param', 'script', 'select', 'style', 'textarea', 'title'];

var inArray = function(value, items) {
  for (var i = 0; items[i] && value != items[i]; i++);
  return value == items[i];
}

var urlsRegExp = /(^|[\s()\[\]_:~+@*"'>])((?:https?|ftp|irc):\/\/)?([-a-z\d;:&=+$,%_.!~*'()]+@)?((?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:(www|irc|ftp)\.)?(?:(?:[a-z\d]|[a-z\d][a-z\d-]*[a-z\d])\.)+([a-z]{2,6}))(:\d+)?(\/(?:[-\w.!~*'()%:@&=+$,;\/]*[\w~*%@&=+$\/])?(?:\?(?:[-\w;\/?:@&=+$,.!~*'()%\[\]|]*[\w\/@&=+$~*%])?)?(?:#(?:[-\w;\/?:@&=+$,.!~*'()%]*[\w\/@&=+$~*%])?)?|\b)/i

var linksCounter = 0;

var current = content.document.body;
while (current) {
  if (current.nodeName == '#text' && (match = current.nodeValue.match(urlsRegExp)) && inArray(match[6], domains)) {
    var url;
    if (match[3] && ! match[2] && ! match[5] && ! match[8] && (match[3].indexOf(':') == -1 || match[3].indexOf('mailto:') == 0)) {
      url = (match[3].indexOf('mailto:') == -1 ? 'mailto:' : '')
          + match[3]
          + match[4];
    }
    else {
      url = (match[2] ? match[2] : (! match[5] || match[5] == 'www' ? 'http' : match[5]) + '://')
          + (match[3] ? match[3] : '')
          + match[4]
          + (match[7] ? match[7] : '')
          + (match[8] ? match[8] : '');
    }
    if (url) {
      var range = content.document.createRange();
      range.setStart(current, match.index + match[1].length);
      range.setEnd(current, match.index + match[0].length);
      var a = content.document.createElement('a');
      a.setAttribute('href', url);
      a.setAttribute('class', 'linkified');
      a.appendChild(range.extractContents());
      range.insertNode(a);
      range.detach();
      linksCounter++;
    }
  }
  if (current.tagName && !inArray(current.tagName.toLowerCase(), tagsForSkip) && current.firstChild) {
    current = current.firstChild;
  }
  else if (current.nextSibling) {
    current = current.nextSibling;
  }
  else {
    do {
      current = current.parentNode;
    } while (!current.nextSibling && current.parentNode);
    current = current.nextSibling;
  }
}

/*
if (linksCounter > 0) {
  var style = content.document.createElement('style');
  style.type = 'text/css';
  style.appendChild(content.document.createTextNode('a.linkified:before {content: "~"; color: #e00;}'));
  content.document.getElementsByTagName('head')[0].appendChild(style);
}
*/]]></code>
  <accelkey><![CDATA[]]></accelkey>
  <help><![CDATA[]]></help>
  <attributes/>
</custombutton>