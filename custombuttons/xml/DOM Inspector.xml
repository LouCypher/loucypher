<?xml version="1.0" encoding="UTF-8"?>
<custombutton xmlns:cb="http://xsms.nm.ru/custombuttons/"
              xmlns:html="http://www.w3.org/1999/xhtml">
  <html:head>
    <html:title><![CDATA[DOM Inspector]]></html:title>
    <html:link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAB3RJTUUH1QgECxw1jaSNNQAAAAlwSFlzAAAK8AAACvABQqw0mAAAADBQTFRFAAAA/wAA/20A/4UA/60AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwJ3q+AAAAEFJREFUeNpjYIABFhcwcAAxGBggDAYlJQYwg0lJSQHEcFACAhZ0hhEKA6jYWACunQVqoAODA9QKuF0OcEvhjmAAAOEEEW5k07z8AAAAAElFTkSuQmCC"/>
    <html:style type="text/css"><![CDATA[body { font-size: medium; margin: 0; }
body, code:before, help:before, initcode:before {
  font-family: "Verdana", sans-serif;
} 
#wrapper { position: fixed; top: 1em; right: 1em; text-align: center; }
p { font-size: small; text-align: center; }
#button {
  background-image: -moz-linear-gradient(center top, rgb(147, 200, 94) 30%, rgb(85, 168, 2) 55%);
  border: 1px outset rgb(58, 116, 4);
  border-radius: 1em;
  padding: 0;
  text-shadow: 0pt -1px 0pt rgb(58, 116, 4);
  margin-bottom: 1em;
}
#button a {
  color: rgb(255, 255, 255);
  padding: 1em;
  text-decoration: none;
}
#button a, code, code:before, initcode, initcode:before, help, help:before {
  display: block;
}
#credits { position: fixed; bottom: 1em; right: 1em; font-size: small; }
custombutton { background-color: rgb(171, 171, 171); margin: 1em; }
image, mode, accelkey { display: none; }
name { font-weight: bold; font-size: x-large; }
code:before, help:before, initcode:before {
  font-weight: bold;
  font-size: large;
  margin: 0 0 1em;
  padding: .5em;
}
code:before { content: "CODE"; }
help:before { content: "Help"; }
initcode:before { content: "Initialization Code"; }
code, initcode, help {
  background-color: rgb(255, 255, 255);
  border: 1px inset rgb(170, 170, 170);
  font: medium monospace;
  margin: 1em 1em 2em 0;
  padding: 1em;
  text-align: left;
  width: 840px;
  white-space: pre-wrap;
  word-wrap: break-word;
}
.clear { clear: both; }
]]></html:style>
  </html:head>
  <html:body>
    <html:div id="wrapper">
      <html:div id="button">
        <html:a href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3EDOM%20Inspector%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAB3RJTUUH1QgECxw1jaSNNQAAAAlwSFlzAAAK8AAACvABQqw0mAAAADBQTFRFAAAA/wAA/20A/4UA/60AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwJ3q+AAAAEFJREFUeNpjYIABFhcwcAAxGBggDAYlJQYwg0lJSQHEcFACAhZ0hhEKA6jYWACunQVqoAODA9QKuF0OcEvhjmAAAOEEEW5k07z8AAAAAElFTkSuQmCC%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5B//%20Check%20if%20DOM%20Inspector%20is%20installed%20and%20enabled%0Aif%20%28typeof%20inspectDOMDocument%20%21%3D%20%22function%22%29%20%7B%0A%20%20this.tooltipText%20%3D%20%22DOM%20Inspector%20extension%20is%20not%20installed%20or%20is%20disabled.%22%3B%0A%20%20this.disabled%20%3D%20true%3B%0A%20%20return%3B%0A%7D%0A%0Avar%20inspectomatic%20%3D%20%22custombuttons.DOMInspector.Inspectomatic.enable%22%3B%0A%0A//%20Check%20if%20Inspectomatic%20is%20enabled%20%28disabled%20by%20default%29%0Athis.checkInspectomatic%20%3D%20function%28%29%20%7B%0A%20%20try%20%7B%0A%20%20%20%20return%20Services.prefs.getBoolPref%28inspectomatic%29%3B%0A%20%20%7D%20catch%28ex%29%20%7B%0A%20%20%20%20return%20false%3B%0A%20%20%7D%0A%7D%0A%0Athis.toggleInspectomatic%20%3D%20function%28%29%20%7B%0A%20%20Services.prefs.setBoolPref%28inspectomatic%2C%20%21this.checkInspectomatic%28%29%29%0A%7D%0A%0Afunction%20%24xml%28aNode%2C%20aXML%29%20%7B%0A%20%20aNode.appendChild%28cbu.makeXML%28aXML%29%29%3B%0A%7D%0A%0A//%20Append%20menuitems%0Afunction%20addItem%28aNode%2C%20aLabel%2C%20aKey%2C%20aStatus%2C%20aValue%29%20%7B%0A%20%20%24xml%28aNode%2C%20%3Cmenuitem%20xmlns%3D%7Bxulns%7D%20label%3D%7BaLabel%7D%20statustext%3D%7BaStatus%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20accesskey%3D%7BaKey%7D%20value%3D%7BaValue%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oncommand%3D%22this.parentNode.parentNode.inspectWin%28event%29%3B%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onmouseover%3D%22this.parentNode.parentNode.setStatus%28this.statusText%29%3B%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onmouseout%3D%22this.parentNode.parentNode.setStatus%28%27%27%29%3B%22/%3E%29%3B%0A%7D%0A%0A//%20Enumerate%20open%20windows%0Afunction%20getWindowEnumerator%28%29%20%7B%0A%20%20return%20Components.classes%5B%22@mozilla.org/embedcomp/window-watcher%3B1%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.getService%28Components.interfaces.nsIWindowWatcher%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.getWindowEnumerator%28%29%3B%0A%7D%0A%0A//%20Display%20window%20URL%20on%20statusbar%0Athis.setStatus%20%3D%20function%28aString%29%20%7B%0A%20%20document.getElementById%28%22statusbar-display%22%29.label%20%3D%20aString%3B%0A%7D%0A%0A//%20Regenerate%20menuitems%0Athis.popupShowing%20%3D%20function%28aNode%29%20%7B%0A%20%20while%20%28aNode.firstChild%29%20%7B%0A%20%20%20%20if%20%28aNode.localname%20%3D%3D%20%22menuseparator%22%29%20break%3B%0A%20%20%20%20aNode.removeChild%28aNode.firstChild%29%3B%0A%20%20%7D%0A%20%20var%20index%20%3D%201%3B%0A%20%20var%20enumerator%20%3D%20getWindowEnumerator%28%29%3B%0A%20%20while%20%28enumerator.hasMoreElements%28%29%29%20%7B%0A%20%20%20%20let%20win%20%3D%20enumerator.getNext%28%29%3B%0A%20%20%20%20addItem%28aNode%2C%20index%20+%20%22%20%22%20+%20win.document.title%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20index%2C%20win.location%2C%20index++%29%3B%0A%20%20%7D%0A%20%20//%20Add%20Options%20menu%0A%20%20%24xml%28aNode%2C%20%3Cmenuseparator%20xmlns%3D%7Bxulns%7D/%3E%29%3B%0A%20%20%24xml%28aNode%2C%20%3Cmenuitem%20xmlns%3D%7Bxulns%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Enable%20Inspectomatic%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22checkbox%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oncommand%3D%22this.parentNode.parentNode.toggleInspectomatic%28%29%3B%22%20/%3E%29%3B%0A%20%20aNode.lastChild.setAttribute%28%22checked%22%2C%20this.checkInspectomatic%28%29%29%3B%0A%7D%0A%0A//%20Inspect%20document/window%0Athis.inspectWin%20%3D%20function%28aEvent%29%20%7B%0A%20%20if%20%28aEvent%29%20%7B%0A%20%20%20%20if%20%28aEvent.target.nodeName%20%21%3D%20%22toolbarbutton%22%29%20%7B%0A%20%20%20%20%20%20var%20windowIndex%20%3D%20parseInt%28aEvent.target.getAttribute%28%22value%22%29%29%3B%0A%20%20%20%20%20%20var%20enumerator%20%3D%20getWindowEnumerator%28%29%3B%0A%20%20%20%20%20%20var%20index%20%3D%201%3B%0A%20%20%20%20%20%20while%20%28enumerator.hasMoreElements%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20let%20win%20%3D%20enumerator.getNext%28%29%3B%0A%20%20%20%20%20%20%20%20if%20%28index++%20%3D%3D%20windowIndex%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28this.checkInspectomatic%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.Inspectomatic.selectByClick%28win.document%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20win.focus%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20inspectDOMDocument%28win.document%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%20else%20%7B%0A%20%20%20%20//%20Inspect%20document%20in%20active%20tab%0A%20%20%20%20inspectDOMDocument%28content.document%29%3B%0A%20%20%7D%0A%7D%0A%0A//%20Middle%20click%20to%20inspect%20chrome%20document%20instead%20of%20content%0Athis.onclick%20%3D%20function%28aEvent%29%20%7B%0A%20%20if%20%28%28aEvent.button%20%21%3D%201%29%20%7C%7C%20%28aEvent.target.id%20%21%3D%20this.id%29%29%20return%3B%0A%20%20if%20%28this.checkInspectomatic%28%29%29%20%7B%0A%20%20%20%20inspectDOMDocument%28content.document%29%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20inspectDOMDocument%28document.documentElement%29%3B%0A%20%20%7D%0A%7D%0A%0A%24xml%28this%2C%20%3Cmenupopup%20xmlns%3D%7Bxulns%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20context%3D%22toolbar-context-menu%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onpopupshowing%3D%22this.parentNode.popupShowing%28this%29%3B%22/%3E%29%3B%0A%0Athis.type%20%3D%20%22menu-button%22%3B%0A%0A%0A//-------------------------%20Add%20%22Inspect%20Element%22%20-------------------------%0A%0A//%20Remove%20element%20if%20it%20exists%0Afunction%20removeNode%28aId%29%20%7B%0A%20%20var%20node%20%3D%20document.getElementById%28aId%29%3B%0A%20%20if%20%28node%29%20%7B%0A%20%20%20%20node.parentNode.removeChild%28node%29%3B%0A%20%20%7D%0A%7D%0A%0A//%20Append%20menuitem%20into%20a%20menupopup%0Afunction%20addInspector%28aMenupopup%2C%20aId%2C%20aImage%29%20%7B%0A%20%20//%20Remove%20previously%20created%20menuitem%0A%20%20//%20to%20avoid%20duplicate%20during%20button%20initiation%0A%20%20removeNode%28aId%29%3B%0A%0A%20%20//%20Create%20a%20new%20one%0A%20%20%24xml%28aMenupopup%2C%20%3Cmenuitem%20xmlns%3D%7Bxulns%7D%20id%3D%7BaId%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20class%3D%22menuitem-iconic%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20image%3D%7BaImage%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Inspect%20Element%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oncommand%3D%22inspectDOMNode%28document.popupNode%29%3B%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onclick%3D%22if%20%28event.button%20%3D%3D%201%29%20%7B%20inspectObject%28document.popupNode%29%3B%20closeMenus%28this%29%3B%20%7D%22%20/%3E%29%3B%0A%7D%0A%0Avar%20id%20%3D%20%22inspector-%22%3B%0Avar%20popupset%20%3D%20document.getElementById%28%22mainPopupSet%22%29%3B%0A%0Avar%20menupopups%20%3D%20popupset.getElementsByTagName%28%22menupopup%22%29%3B%0Afor%20%28var%20i%20%3D%200%3B%20i%20%3C%20menupopups.length%3B%20i++%29%20%7B%0A%20%20let%20menupopup%20%3D%20menupopups%5Bi%5D%3B%0A%20%20if%20%28%21menupopup.hasAttribute%28%22onclick%22%29%20%26%26%0A%20%20%20%20%20%20%28menupopup.id%20%21%3D%20%22stylish-popup%22%29%29%20%7B%0A%20%20%20%20menupopup.setAttribute%28%22onclick%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22if%20%28event.button%20%3D%3D%202%29%20%7B%22%20+%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20event.preventDefault%28%29%3B%22%20+%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20event.stopPropagation%28%29%3B%22%20+%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20inspectDOMNode%28event.target%29%3B%22%20+%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20closeMenus%28this%29%3B%20%7D%22%29%3B%0A%20%20%7D%0A%20%20if%20%28%28menupopup.parentNode%20%3D%3D%20popupset%29%20%26%26%0A%20%20%20%20%20%20%28menupopup.id%20%21%3D%20%22stylish-style-context%22%29%29%20%7B%0A%20%20%20%20addInspector%28menupopup%2C%20id%20+%20menupopup.id%2C%20this.image%29%3B%0A%20%20%7D%0A%7D%0A%0AremoveNode%28%22inspect-context%22%29%3B%0A%24xml%28popupset%2C%20%3Cmenupopup%20id%3D%22inspect-context%22%20xmlns%3D%7Bxulns%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cmenuitem%20id%3D%22inspect-chrome%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20class%3D%22menuitem-iconic%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20image%3D%7Bthis.image%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Inspect%20Element%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oncommand%3D%22inspectDOMNode%28document.popupNode%29%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onclick%3D%22if%20%28event.button%20%3D%3D%201%29%20%7B%20inspectObject%28document.popupNode%29%3B%20closeMenus%28this%29%3B%20%7D%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/menupopup%3E%29%3B%0A%0A%0A//%20main%20window%0Adocument.getElementById%28%22main-window%22%29.setAttribute%28%22context%22%2C%20%22inspect-context%22%29%3B%0A%0A//%20sidebar%0Avar%20sidebar%20%3D%20document.getElementById%28%22sidebar%22%29%0Aif%20%28sidebar%29%20sidebar.setAttribute%28%22context%22%2C%20%22inspect-context%22%29%3B%0A%0A%0A//--------------------%20For%20Firefox%20prior%20to%20version%204%20--------------------%0A%0Avar%20popups%20%3D%20popupset.getElementsByTagName%28%22popup%22%29%3B%0Afor%20%28var%20j%20%3D%200%3B%20j%20%3C%20popups.length%3B%20j++%29%20%7B%0A%20%20let%20popup%20%3D%20popups%5Bj%5D%3B%0A%20%20if%20%28%21popup.hasAttribute%28%22onclick%22%29%29%20%7B%0A%20%20%20%20popup.setAttribute%28%22onclick%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22if%20%28event.button%20%3D%3D%202%29%20%7B%22%20+%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20event.preventDefault%28%29%3B%22%20+%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20event.stopPropagation%28%29%3B%22%20+%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20inspectDOMNode%28event.target%29%3B%22%20+%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20closeMenus%28this%29%3B%20%7D%22%29%3B%0A%20%20%7D%0A%20%20if%20%28popup.parentNode%20%3D%3D%20popupset%29%20%7B%0A%20%20%20%20addInspector%28popup%2C%20id%20+%20popup.id%2C%20this.image%29%3B%0A%20%20%7D%0A%7D%0A%0A//%20Tab%20contextmenu%0Avar%20tabContext%20%3D%20document.getAnonymousElementByAttribute%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gBrowser%2C%20%22anonid%22%2C%20%22tabContextMenu%22%29%3B%0Aif%20%28tabContext%29%20%7B%0A%20%20addInspector%28tabContext%2C%20id%20+%20%22tabContextMenu%22%2C%20this.image%29%3B%0A%7D%0A%0A//------------------------------------------------------------------------%0A%0A/*%20*****%20BEGIN%20LICENSE%20BLOCK%20*****%0A%20*%20Version%3A%20MPL%201.1/GPL%202.0/LGPL%202.1%0A%20*%0A%20*%20The%20contents%20of%20this%20file%20are%20subject%20to%20the%20Mozilla%20Public%20License%20Version%0A%20*%201.1%20%28the%20%22License%22%29%3B%20you%20may%20not%20use%20this%20file%20except%20in%20compliance%20with%0A%20*%20the%20License.%20You%20may%20obtain%20a%20copy%20of%20the%20License%20at%0A%20*%20http%3A//www.mozilla.org/MPL/%0A%20*%0A%20*%20Software%20distributed%20under%20the%20License%20is%20distributed%20on%20an%20%22AS%20IS%22%20basis%2C%0A%20*%20WITHOUT%20WARRANTY%20OF%20ANY%20KIND%2C%20either%20express%20or%20implied.%20See%20the%20License%0A%20*%20for%20the%20specific%20language%20governing%20rights%20and%20limitations%20under%20the%0A%20*%20License.%0A%20*%0A%20*%20The%20Original%20Codes%20were%20mozEngineer%20and%20inspectThis%20for%20Phoenix%20browser.%0A%20*%0A%20*%20The%20Initial%20Developers%20of%20the%20Original%20Codes%20are%3A%0A%20*%20%20%20Joe%20Hewitt%20%20%20-%20mozEngineer%0A%20*%20%20%20Gilles%20Durys%20-%20inspectThis%0A%20*%0A%20*%20No%20portions%20of%20the%20Original%20Codes%20nor%20any%20portions%20of%20this%20Derivative%0A%20*%20Code%20are%20copyrighted.%0A%20*%0A%20*%20Contributor%28s%29%3A%0A%20*%20%20Patrick%20Thompson%20%28sailfish@unforgettable.com%29%0A%20*%20%20LouCypher%20%28Custom%20Buttons%29%0A%20*%0A%20*%20Alternatively%2C%20the%20contents%20of%20this%20file%20may%20be%20used%20under%20the%20terms%20of%0A%20*%20either%20the%20GNU%20General%20Public%20License%20Version%202%20or%20later%20%28the%20%22GPL%22%29%2C%20or%0A%20*%20the%20GNU%20Lesser%20General%20Public%20License%20Version%202.1%20or%20later%20%28the%20%22LGPL%22%29%2C%0A%20*%20in%20which%20case%20the%20provisions%20of%20the%20GPL%20or%20the%20LGPL%20are%20applicable%20instead%0A%20*%20of%20those%20above.%20If%20you%20wish%20to%20allow%20use%20of%20your%20version%20of%20this%20file%20only%0A%20*%20under%20the%20terms%20of%20either%20the%20GPL%20or%20the%20LGPL%2C%20and%20not%20to%20allow%20others%20to%0A%20*%20use%20your%20version%20of%20this%20file%20under%20the%20terms%20of%20the%20MPL%2C%20indicate%20your%0A%20*%20decision%20by%20deleting%20the%20provisions%20above%20and%20replace%20them%20with%20the%20notice%0A%20*%20and%20other%20provisions%20required%20by%20the%20GPL%20or%20the%20LGPL.%20If%20you%20do%20not%20delete%0A%20*%20the%20provisions%20above%2C%20a%20recipient%20may%20use%20your%20version%20of%20this%20file%20under%0A%20*%20the%20terms%20of%20any%20one%20of%20the%20MPL%2C%20the%20GPL%20or%20the%20LGPL.%0A%20*%0A%20*%20*****%20END%20LICENSE%20BLOCK%20*****%20*/%0A%0Avar%20Button%20%3D%20this%3B%0A%0Athis.Inspectomatic%20%3D%20%0A%7B%0A%20%20mSelecting%3A%20false%2C%0A%20%20mSelectDocs%3A%20null%2C%0A%20%20mFlasher%3A%20null%2C%0A%0A%20%20selectByClick%3A%20function%28aDocument%29%0A%20%20%7B%0A%20%20%20%20if%20%28this.mSelecting%29%20%7B%0A%20%20%20%20%20%20this.mSelecting%20%3D%20false%3B%0A%20%20%20%20%20%20this.removeClickListeners%28%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20this.mDocument%20%3D%20aDocument%3B%0A%20%20%20%20%20%20//%20wait%20until%20after%20user%20releases%20the%20mouse%20after%20selecting%20this%20command%20from%20a%20UI%20element%0A%20%20%20%20%20%20var%20event%20%3D%20%7B%20notify%3A%20function%28timer%29%20%7B%20Button.Inspectomatic.startSelectByClick%28%29%3B%20%7D%20%7D%0A%0A%09%20%20//%20Now%20it%20is%20time%20to%20create%20the%20timer...%20%20%0A%09%20%20var%20timer%20%3D%20Components.classes%5B%22@mozilla.org/timer%3B1%22%5D.createInstance%28Components.interfaces.nsITimer%29%3B%0A%0A%09%20%20//%20...%20and%20to%20initialize%20it%2C%20we%20want%20to%20call%20event.notify%28%29%20...%0A%09%20%20//%20...%20one%20time%20after%20exactly%20ten%20second.%20%0A%09%20%20%20%20timer.initWithCallback%28event%2C%201%2C%20Components.interfaces.nsITimer.TYPE_ONE_SHOT%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%20%20%0A%20%20startSelectByClick%3A%20function%28%29%0A%20%20%7B%20%20%20%20%0A%20%20%20%20if%20%28%21this.mFlasher%29%0A%20%20%20%20%20%20this.mFlasher%20%3D%20Components.classes%5B%22@mozilla.org/inspector/flasher%3B1%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.getService%28Components.interfaces.inIFlasher%29%3B%0A%0A%20%20%20%20this.mSelecting%20%3D%20true%3B%0A%20%20%20%20this.mSelectDocs%20%3D%20this.getAllDocuments%28this.mDocument%29%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20this.mSelectDocs.length%3B%20++i%29%20%7B%0A%20%20%20%20%20%20this.mSelectDocs%5Bi%5D.addEventListener%28%22mousedown%22%2C%20this.onMouseDown%2C%20true%29%3B%0A%20%20%20%20%20%20this.mSelectDocs%5Bi%5D.addEventListener%28%22mouseup%22%2C%20this.onMouseUp%2C%20true%29%3B%0A%20%20%20%20%20%20this.mSelectDocs%5Bi%5D.addEventListener%28%22click%22%2C%20this.onClick%2C%20true%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20doSelectByClick%3A%20function%28aTarget%29%0A%20%20%7B%0A%20%20%20%20if%20%28aTarget.nodeType%20%3D%3D%20Node.TEXT_NODE%29%0A%20%20%20%20%20%20aTarget%20%3D%20aTarget.parentNode%3B%0A%20%20%20%20%20%20%0A%20%20%20%20this.mSelecting%20%3D%20false%3B%0A%20%20%20%20%0A%20%20%20%20inspectDOMNode%28aTarget%29%3B%0A%20%20%7D%2C%0A%0A%20%20removeClickListeners%3A%20function%28%29%0A%20%20%7B%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20this.mSelectDocs.length%3B%20++i%29%20%7B%0A%20%20%20%20%20%20this.mSelectDocs%5Bi%5D.removeEventListener%28%22mousedown%22%2C%20this.onMouseDown%2C%20true%29%3B%0A%20%20%20%20%20%20this.mSelectDocs%5Bi%5D.removeEventListener%28%22mouseup%22%2C%20this.onMouseUp%2C%20true%29%3B%0A%20%20%20%20%20%20this.mSelectDocs%5Bi%5D.removeEventListener%28%22click%22%2C%20this.onClick%2C%20true%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%0A%20%20////////////////////////////////////////////////////////////////////////////%0A%20%20////%20Listeners%0A%0A%20%20onMouseDown%3A%20function%28aEvent%29%0A%20%20%7B%0A%20%20%20%20aEvent.stopPropagation%28%29%3B%0A%20%20%20%20aEvent.preventDefault%28%29%3B%0A%0A%20%20%20%20var%20node%20%3D%20aEvent.target%3B%0A%20%20%20%20while%20%28node%20%26%26%20node.nodeType%20%21%3D%20Node.ELEMENT_NODE%29%0A%20%20%20%20%20%20node%20%3D%20node.parentNode%3B%0A%0A%20%20%20%20this.mCurrentNode%20%3D%20node%3B%0A%20%20%20%20Button.Inspectomatic.mFlasher.drawElementOutline%28node%2C%20%22aa0000%22%2C%204%2C%20true%29%3B%0A%20%20%7D%2C%0A%20%20%0A%20%20onMouseUp%3A%20function%28aEvent%29%0A%20%20%7B%0A%20%20%20%20aEvent.stopPropagation%28%29%3B%0A%20%20%20%20aEvent.preventDefault%28%29%3B%0A%0A%20%20%20%20Button.Inspectomatic.mFlasher.repaintElement%28this.mCurrentNode%29%3B%0A%20%20%7D%2C%0A%0A%20%20onClick%3A%20function%28aEvent%29%0A%20%20%7B%0A%20%20%20%20aEvent.stopPropagation%28%29%3B%0A%20%20%20%20aEvent.preventDefault%28%29%3B%0A%0A%20%20%20%20Button.Inspectomatic.doSelectByClick%28aEvent.target%29%3B%0A%20%20%20%20Button.Inspectomatic.removeClickListeners%28%29%3B%0A%20%20%7D%2C%0A%0A%20%20////////////////////////////////////////////////////////////////////////////%0A%20%20////%20Uncategorized%0A%20%20%0A%20%20getAllDocuments%3A%20function%28aDocument%29%0A%20%20%7B%0A%20%20%20%20var%20results%20%3D%20%5BaDocument%5D%3B%0A%20%20%20%20this.findDocuments%28aDocument%2C%20results%29%3B%0A%20%20%20%20return%20results%3B%0A%20%20%7D%2C%0A%20%20%0A%20%20findDocuments%3A%20function%28aDoc%2C%20aArray%29%0A%20%20%7B%0A%20%20%20%20const%20kXULNSURI%20%3D%20%22http%3A//www.mozilla.org/keymaster/gatekeeper/there.is.only.xul%22%3B%0A%20%20%20%20this.addKidsToArray%28aDoc.getElementsByTagName%28%22frame%22%29%2C%20aArray%29%3B%0A%20%20%20%20this.addKidsToArray%28aDoc.getElementsByTagName%28%22iframe%22%29%2C%20aArray%29%3B%0A%20%20%20%20this.addKidsToArray%28aDoc.getElementsByTagNameNS%28kXULNSURI%2C%20%22browser%22%29%2C%20aArray%29%3B%0A%20%20%20%20this.addKidsToArray%28aDoc.getElementsByTagNameNS%28kXULNSURI%2C%20%22tabbrowser%22%29%2C%20aArray%29%3B%0A%20%20%20%20this.addKidsToArray%28aDoc.getElementsByTagNameNS%28kXULNSURI%2C%20%22editor%22%29%2C%20aArray%29%3B%0A%20%20%7D%2C%0A%20%20%0A%20%20addKidsToArray%3A%20function%28aKids%2C%20aArray%29%0A%20%20%7B%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20aKids.length%3B%20++i%29%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20if%20%28aKids%5Bi%5D.localName%20%3D%3D%20%22editor%22%29%0A%20%20%20%20%20%20%20%20%20%20aArray.push%28aKids%5Bi%5D.editorShell.editorDocument%29%3B%0A%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20%20aArray.push%28aKids%5Bi%5D.contentDocument%29%3B%0A%20%20%20%20%20%20%7D%20catch%20%28ex%29%20%7B%0A%20%20%20%20%20%20%20%20//%20if%20we%20can%27t%20access%20the%20content%20document%2C%20skip%20it%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5B/*%20----------------------------------------------------------------%0A%20%20%20%20%20DOM%20Inspector%0A%0A%20%20%20%20%20Idea%20for%20this%20button%20was%20taken%20from%0A%20%20%20%20%20InspectorWidget%20extension%20by%20Sailfish%0A%20%20%20%20%20https%3A//addons.mozilla.org/firefox/63/%0A%20%20%20----------------------------------------------------------------%20*/%0A%0Aif%20%28this.checkInspectomatic%28%29%29%20%7B%0A%20%20if%20%28event.target.id%20%3D%3D%20this.id%29%20%7B%0A%20%20%20%20this.Inspectomatic.selectByClick%28document%29%3B%0A%20%20%7D%0A%20%20return%3B%0A%7D%0A%0Athis.inspectWin%28%29%3B%0A%0A%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E" title="DOM Inspector">
        <![CDATA[Install this button]]>
        </html:a>
      </html:div>
      <html:a href="https://addons.mozilla.org/addon/custom-buttons/">
        <![CDATA[What's this?]]>
      </html:a>
      <html:div id="credits">
        <html:a href="http://custombuttons.mozdev.org/drupal/node/484">
          <![CDATA[Custom Buttons XML]]><html:br/><![CDATA[Exporter/Importer]]>
        </html:a>
      </html:div>
    </html:div>
  </html:body>

  <name>DOM Inspector</name>
  <image><![CDATA[data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAB3RJTUUH1QgECxw1jaSNNQAAAAlwSFlzAAAK8AAACvABQqw0mAAAADBQTFRFAAAA/wAA/20A/4UA/60AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwJ3q+AAAAEFJREFUeNpjYIABFhcwcAAxGBggDAYlJQYwg0lJSQHEcFACAhZ0hhEKA6jYWACunQVqoAODA9QKuF0OcEvhjmAAAOEEEW5k07z8AAAAAElFTkSuQmCC]]></image>
  <mode>0</mode>
  <initcode><![CDATA[// Check if DOM Inspector is installed and enabled
if (typeof inspectDOMDocument != "function") {
  this.tooltipText = "DOM Inspector extension is not installed or is disabled.";
  this.disabled = true;
  return;
}

var inspectomatic = "custombuttons.DOMInspector.Inspectomatic.enable";

// Check if Inspectomatic is enabled (disabled by default)
this.checkInspectomatic = function() {
  try {
    return Services.prefs.getBoolPref(inspectomatic);
  } catch(ex) {
    return false;
  }
}

this.toggleInspectomatic = function() {
  Services.prefs.setBoolPref(inspectomatic, !this.checkInspectomatic())
}

function $xml(aNode, aXML) {
  aNode.appendChild(cbu.makeXML(aXML));
}

// Append menuitems
function addItem(aNode, aLabel, aKey, aStatus, aValue) {
  $xml(aNode, <menuitem xmlns={xulns} label={aLabel} statustext={aStatus}
                        accesskey={aKey} value={aValue}
                        oncommand="this.parentNode.parentNode.inspectWin(event);"
                        onmouseover="this.parentNode.parentNode.setStatus(this.statusText);"
                        onmouseout="this.parentNode.parentNode.setStatus('');"/>);
}

// Enumerate open windows
function getWindowEnumerator() {
  return Components.classes["@mozilla.org/embedcomp/window-watcher;1"]
                   .getService(Components.interfaces.nsIWindowWatcher)
                   .getWindowEnumerator();
}

// Display window URL on statusbar
this.setStatus = function(aString) {
  document.getElementById("statusbar-display").label = aString;
}

// Regenerate menuitems
this.popupShowing = function(aNode) {
  while (aNode.firstChild) {
    if (aNode.localname == "menuseparator") break;
    aNode.removeChild(aNode.firstChild);
  }
  var index = 1;
  var enumerator = getWindowEnumerator();
  while (enumerator.hasMoreElements()) {
    let win = enumerator.getNext();
    addItem(aNode, index + " " + win.document.title,
            index, win.location, index++);
  }
  // Add Options menu
  $xml(aNode, <menuseparator xmlns={xulns}/>);
  $xml(aNode, <menuitem xmlns={xulns}
                        label="Enable Inspectomatic"
                        type="checkbox"
                        oncommand="this.parentNode.parentNode.toggleInspectomatic();" />);
  aNode.lastChild.setAttribute("checked", this.checkInspectomatic());
}

// Inspect document/window
this.inspectWin = function(aEvent) {
  if (aEvent) {
    if (aEvent.target.nodeName != "toolbarbutton") {
      var windowIndex = parseInt(aEvent.target.getAttribute("value"));
      var enumerator = getWindowEnumerator();
      var index = 1;
      while (enumerator.hasMoreElements()) {
        let win = enumerator.getNext();
        if (index++ == windowIndex) {
          if (this.checkInspectomatic()) {
            this.Inspectomatic.selectByClick(win.document);
            win.focus();
          } else {
            inspectDOMDocument(win.document);
          }
          return;
        }
      }
    }
  } else {
    // Inspect document in active tab
    inspectDOMDocument(content.document);
  }
}

// Middle click to inspect chrome document instead of content
this.onclick = function(aEvent) {
  if ((aEvent.button != 1) || (aEvent.target.id != this.id)) return;
  if (this.checkInspectomatic()) {
    inspectDOMDocument(content.document);
  } else {
    inspectDOMDocument(document.documentElement);
  }
}

$xml(this, <menupopup xmlns={xulns}
                      context="toolbar-context-menu"
                      oncommand="event.stopPropagation();"
                      onpopupshowing="this.parentNode.popupShowing(this);"/>);

this.type = "menu-button";


//------------------------- Add "Inspect Element" -------------------------

// Remove element if it exists
function removeNode(aId) {
  var node = document.getElementById(aId);
  if (node) {
    node.parentNode.removeChild(node);
  }
}

// Append menuitem into a menupopup
function addInspector(aMenupopup, aId, aImage) {
  // Remove previously created menuitem
  // to avoid duplicate during button initiation
  removeNode(aId);

  // Create a new one
  $xml(aMenupopup, <menuitem xmlns={xulns} id={aId}
                             class="menuitem-iconic"
                             image={aImage}
                             label="Inspect Element"
                             oncommand="inspectDOMNode(document.popupNode);"
                             onclick="if (event.button == 1) { inspectObject(document.popupNode); closeMenus(this); }" />);
}

var id = "inspector-";
var popupset = document.getElementById("mainPopupSet");

var menupopups = popupset.getElementsByTagName("menupopup");
for (var i = 0; i < menupopups.length; i++) {
  let menupopup = menupopups[i];
  if (!menupopup.hasAttribute("onclick") &&
      (menupopup.id != "stylish-popup")) {
    menupopup.setAttribute("onclick",
                           "if (event.button == 2) {" +
                           " event.preventDefault();" +
                           " event.stopPropagation();" +
                           " inspectDOMNode(event.target);" +
                           " closeMenus(this); }");
  }
  if ((menupopup.parentNode == popupset) &&
      (menupopup.id != "stylish-style-context")) {
    addInspector(menupopup, id + menupopup.id, this.image);
  }
}

removeNode("inspect-context");
$xml(popupset, <menupopup id="inspect-context" xmlns={xulns}>
                  <menuitem id="inspect-chrome"
                            class="menuitem-iconic"
                            image={this.image}
                            label="Inspect Element"
                            oncommand="inspectDOMNode(document.popupNode)"
                            onclick="if (event.button == 1) { inspectObject(document.popupNode); closeMenus(this); }" />
               </menupopup>);


// main window
document.getElementById("main-window").setAttribute("context", "inspect-context");

// sidebar
var sidebar = document.getElementById("sidebar")
if (sidebar) sidebar.setAttribute("context", "inspect-context");


//-------------------- For Firefox prior to version 4 --------------------

var popups = popupset.getElementsByTagName("popup");
for (var j = 0; j < popups.length; j++) {
  let popup = popups[j];
  if (!popup.hasAttribute("onclick")) {
    popup.setAttribute("onclick",
                       "if (event.button == 2) {" +
                       " event.preventDefault();" +
                       " event.stopPropagation();" +
                       " inspectDOMNode(event.target);" +
                       " closeMenus(this); }");
  }
  if (popup.parentNode == popupset) {
    addInspector(popup, id + popup.id, this.image);
  }
}

// Tab contextmenu
var tabContext = document.getAnonymousElementByAttribute(
                    gBrowser, "anonid", "tabContextMenu");
if (tabContext) {
  addInspector(tabContext, id + "tabContextMenu", this.image);
}

//------------------------------------------------------------------------

/* ***** BEGIN LICENSE BLOCK *****
 * Version: MPL 1.1/GPL 2.0/LGPL 2.1
 *
 * The contents of this file are subject to the Mozilla Public License Version
 * 1.1 (the "License"); you may not use this file except in compliance with
 * the License. You may obtain a copy of the License at
 * http://www.mozilla.org/MPL/
 *
 * Software distributed under the License is distributed on an "AS IS" basis,
 * WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
 * for the specific language governing rights and limitations under the
 * License.
 *
 * The Original Codes were mozEngineer and inspectThis for Phoenix browser.
 *
 * The Initial Developers of the Original Codes are:
 *   Joe Hewitt   - mozEngineer
 *   Gilles Durys - inspectThis
 *
 * No portions of the Original Codes nor any portions of this Derivative
 * Code are copyrighted.
 *
 * Contributor(s):
 *  Patrick Thompson (sailfish@unforgettable.com)
 *  LouCypher (Custom Buttons)
 *
 * Alternatively, the contents of this file may be used under the terms of
 * either the GNU General Public License Version 2 or later (the "GPL"), or
 * the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
 * in which case the provisions of the GPL or the LGPL are applicable instead
 * of those above. If you wish to allow use of your version of this file only
 * under the terms of either the GPL or the LGPL, and not to allow others to
 * use your version of this file under the terms of the MPL, indicate your
 * decision by deleting the provisions above and replace them with the notice
 * and other provisions required by the GPL or the LGPL. If you do not delete
 * the provisions above, a recipient may use your version of this file under
 * the terms of any one of the MPL, the GPL or the LGPL.
 *
 * ***** END LICENSE BLOCK ***** */

var Button = this;

this.Inspectomatic = 
{
  mSelecting: false,
  mSelectDocs: null,
  mFlasher: null,

  selectByClick: function(aDocument)
  {
    if (this.mSelecting) {
      this.mSelecting = false;
      this.removeClickListeners();
    } else {
      this.mDocument = aDocument;
      // wait until after user releases the mouse after selecting this command from a UI element
      var event = { notify: function(timer) { Button.Inspectomatic.startSelectByClick(); } }

	  // Now it is time to create the timer...  
	  var timer = Components.classes["@mozilla.org/timer;1"].createInstance(Components.interfaces.nsITimer);

	  // ... and to initialize it, we want to call event.notify() ...
	  // ... one time after exactly ten second. 
	    timer.initWithCallback(event, 1, Components.interfaces.nsITimer.TYPE_ONE_SHOT);
    }
  },
  
  startSelectByClick: function()
  {    
    if (!this.mFlasher)
      this.mFlasher = Components.classes["@mozilla.org/inspector/flasher;1"]
                                .getService(Components.interfaces.inIFlasher);

    this.mSelecting = true;
    this.mSelectDocs = this.getAllDocuments(this.mDocument);

    for (var i = 0; i < this.mSelectDocs.length; ++i) {
      this.mSelectDocs[i].addEventListener("mousedown", this.onMouseDown, true);
      this.mSelectDocs[i].addEventListener("mouseup", this.onMouseUp, true);
      this.mSelectDocs[i].addEventListener("click", this.onClick, true);
    }
  },

  doSelectByClick: function(aTarget)
  {
    if (aTarget.nodeType == Node.TEXT_NODE)
      aTarget = aTarget.parentNode;
      
    this.mSelecting = false;
    
    inspectDOMNode(aTarget);
  },

  removeClickListeners: function()
  {
    for (var i = 0; i < this.mSelectDocs.length; ++i) {
      this.mSelectDocs[i].removeEventListener("mousedown", this.onMouseDown, true);
      this.mSelectDocs[i].removeEventListener("mouseup", this.onMouseUp, true);
      this.mSelectDocs[i].removeEventListener("click", this.onClick, true);
    }
  },

  ////////////////////////////////////////////////////////////////////////////
  //// Listeners

  onMouseDown: function(aEvent)
  {
    aEvent.stopPropagation();
    aEvent.preventDefault();

    var node = aEvent.target;
    while (node && node.nodeType != Node.ELEMENT_NODE)
      node = node.parentNode;

    this.mCurrentNode = node;
    Button.Inspectomatic.mFlasher.drawElementOutline(node, "aa0000", 4, true);
  },
  
  onMouseUp: function(aEvent)
  {
    aEvent.stopPropagation();
    aEvent.preventDefault();

    Button.Inspectomatic.mFlasher.repaintElement(this.mCurrentNode);
  },

  onClick: function(aEvent)
  {
    aEvent.stopPropagation();
    aEvent.preventDefault();

    Button.Inspectomatic.doSelectByClick(aEvent.target);
    Button.Inspectomatic.removeClickListeners();
  },

  ////////////////////////////////////////////////////////////////////////////
  //// Uncategorized
  
  getAllDocuments: function(aDocument)
  {
    var results = [aDocument];
    this.findDocuments(aDocument, results);
    return results;
  },
  
  findDocuments: function(aDoc, aArray)
  {
    const kXULNSURI = "http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul";
    this.addKidsToArray(aDoc.getElementsByTagName("frame"), aArray);
    this.addKidsToArray(aDoc.getElementsByTagName("iframe"), aArray);
    this.addKidsToArray(aDoc.getElementsByTagNameNS(kXULNSURI, "browser"), aArray);
    this.addKidsToArray(aDoc.getElementsByTagNameNS(kXULNSURI, "tabbrowser"), aArray);
    this.addKidsToArray(aDoc.getElementsByTagNameNS(kXULNSURI, "editor"), aArray);
  },
  
  addKidsToArray: function(aKids, aArray)
  {
    for (var i = 0; i < aKids.length; ++i) {
      try {
        if (aKids[i].localName == "editor")
          aArray.push(aKids[i].editorShell.editorDocument);
        else
          aArray.push(aKids[i].contentDocument);
      } catch (ex) {
        // if we can't access the content document, skip it
      }
    }
  }
};
]]></initcode>
  <code><![CDATA[/* ----------------------------------------------------------------
     DOM Inspector

     Idea for this button was taken from
     InspectorWidget extension by Sailfish
     https://addons.mozilla.org/firefox/63/
   ---------------------------------------------------------------- */

if (this.checkInspectomatic()) {
  if (event.target.id == this.id) {
    this.Inspectomatic.selectByClick(document);
  }
  return;
}

this.inspectWin();

]]></code>
  <accelkey><![CDATA[]]></accelkey>
  <help><![CDATA[]]></help>
  <attributes/>
</custombutton>